var WmyUtils3D=function(){function e(){}return e.getObj3d=function(e,a){if(null==e)return null;if(e.name==a)return e;for(var n=0;n<e._children.length;n++){var r=e._children[n];if(r._children.length<=0){if(r.name==a)return r}else{var t=this.getObj3d(r,a);if(null!=t)return t}}return null},e.setShaderAll=function(a,n,r){var t=this,i=Wmy_Load_Mag.assetUrl,o=i+n+"wmyMats.txt",d=i+r;Laya.loader.load(o,Laya.Handler.create(this,function(n,r,i){for(var o=i.mats,d=0;d<o.length;d++){var h=o[d];if(""!=h.targetName){var s=e.getObj3d(a,h.targetName);if(null!=s){var l=n+h.matUrl+Wmy_Load_Mag.V,u=r+h.shaderName+".xml"+Wmy_Load_Mag.V;Laya.BaseMaterial.load(l,Laya.Handler.create(t,function(e,a,n){WmyShaderMsg.setShader(e,n,a)},[s,u]))}}}},[n,d]),null,Laya.Loader.JSON)},e.aniPlay=function(e,a,n){var r=this.getObj3d(e,a).getComponent(Laya.Animator);return r.play(n),r},e.onShadow=function(e,a,n,r,t){void 0===a&&(a=512),void 0===n&&(n=1),void 0===r&&(r=100),void 0===t&&(t=!0),e.shadow=t,e.shadowDistance=r,e.shadowResolution=a,e.shadowPCFType=n},e.onCastShadow=function(e,a,n,r){if(void 0===a&&(a=0),void 0===n&&(n=!0),void 0===r&&(r=!0),e instanceof Laya.MeshSprite3D){var t=e;0==a?t.meshRenderer.receiveShadow=n:1==a?t.meshRenderer.castShadow=n:2==a&&(t.meshRenderer.receiveShadow=n,t.meshRenderer.castShadow=n)}if(e instanceof Laya.SkinnedMeshSprite3D){var i=e;0==a?i.skinnedMeshRenderer.receiveShadow=n:1==a&&(i.skinnedMeshRenderer.castShadow=n)}if(r)for(var o=0;o<e.numChildren;o++){var d=e.getChildAt(o);this.onCastShadow(d,a,n)}},e.rgb2hex=function(e,a,n){return("#"+this.hex(e)+this.hex(a)+this.hex(n)).toUpperCase()},e.hex=function(e){return e=this.onNumTo(e),("0"+parseInt(e).toString(16)).slice(-2)},e.onNumTo=function(e){return(e+"").indexOf(".")>=0&&(e=parseFloat(e.toFixed(2))),e},e.lerpF=function(e,a,n){return e+(a-e)*n},e}();