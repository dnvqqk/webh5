var LayaAir3D=function(){function a(){a._this=this,Laya3D.init(1136,640),Laya.stage.bgColor="#000000",Laya.stage.screenMode=Laya.Stage.SCREEN_HORIZONTAL,Laya.stage.alignH="center",Laya.stage.alignV="middle",Laya.Stat.show(),Laya.stage.addChild(fairygui.GRoot.inst.displayObject),Wmy_Load_Mag.isDebug=!1,Wmy_Load_Mag.getThis.onLoadWetData("res/loadInfo.txt?"+Date.now(),Laya.Handler.create(this,this.onLoadLoad))}return a.prototype.initJs=function(a,t){var s=[];s.push("js/wmyUtilsH5/WmyUtils.js"),s.push("js/wmyUtilsH5/3d/WmyUtils3D.js"),s.push("js/wmyUtilsH5/3d/WmyShaderMsg.js"),s.push("js/wmyUtilsH5/3d/WmyLoadMats.js"),s.push("js/wmyUtilsH5/3d/WmyLoad3d.js"),s.push("js/wmyUtilsH5/3d/WmyPhysicsWorld_Character.js"),s.push("js/player/PlayerKz.js"),s.push("js/player/UnitAnimator.js"),InJs.loadJs(s,a,t)},a.prototype.onLoadLoad=function(){var a=this;this.initJs(function(){var t=Wmy_Load_Mag.getThis.getResObj("load");null!=t&&Wmy_Load_Mag.getThis.onload(t,new Laya.Handler(a,a.onLoadMain))},Wmy_Load_Mag.jsV)},a.prototype.onLoadMain=function(){this._loadView=fairygui.UIPackage.createObject("load","Load").asCom,fairygui.GRoot.inst.addChild(this._loadView),this._bar=this._loadView.getChild("bar").asProgress,this._bar.value=1,Wmy_Load_Mag.getThis.onAutoLoadAll(new Laya.Handler(this,this.onLoadOk),new Laya.Handler(this,this.onLoading))},a.prototype.onLoading=function(a){this._bar.value=a},a.prototype.onLoadOk=function(a,t){var s=this;null!=t[0]&&(this._urlList=t[0].urlList,this.scene3D=Laya.loader.getRes(this._urlList[0]),WmyUtils3D.setShaderAll(this.scene3D,"res/mats/","res/shaders/"),Laya.timer.once(400,this,function(){s.onMain(),fairygui.GRoot.inst.removeChild(s._loadView),s._loadView=null,s._bar=null}))},a.prototype.onMain=function(){Laya.stage.addChildAt(this.scene3D,0);WmyUtils3D.getObj3d(this.scene3D,"Camera");WmyUtils3D.getObj3d(this.scene3D,"Player1").addComponent(PlayerKz)},a}();new LayaAir3D;