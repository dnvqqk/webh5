var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a])};return function(e,a){function n(){this.constructor=e}t(e,a),e.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}();!function(){function t(e,a,n){function r(o,s){if(!a[o]){if(!e[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(i)return i(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var h=a[o]={exports:{}};e[o][0].call(h.exports,function(t){return r(e[o][1][t]||t)},h,h.exports,t,e,a,n)}return a[o].exports}for(var i="function"==typeof require&&require,o=0;o<n.length;o++)r(n[o]);return r}return t}()({1:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=t("./_wmyUtilsH5/Wmy_Load_Mag"),r=t("./_wmyUtilsH5/wmyTween/WTweenManager"),i=t("./ui/UI_Main"),o=t("./ui/UI_Game1"),s=t("./_wmyUtilsH5/WmyUtils"),l=function(){function t(){t._this=this,Laya3D.init(720,1280),Laya.Physics&&Laya.Physics.enable();var e=s.WmyUtils.getThis.isPc();Laya.stage.scaleMode=e?Laya.Stage.SCALE_SHOWALL:Laya.Stage.SCALE_FIXED_AUTO,Laya.stage.alignH="center",Laya.stage.alignV="middle",Laya.Stat.show(),Laya.Shader3D.debugMode=!0;var a="";null!=window&&null!=window.wmyVTime&&(a=window.wmyVTime),Laya.ResourceVersion.enable("version.json"+a,Laya.Handler.create(this,this.onVersionLoaded),Laya.ResourceVersion.FILENAME_VERSION)}return t.prototype.onVersionLoaded=function(){Laya.stage.on(Laya.Event.RESIZE,this,this.RESIZE),Laya.stage.addChild(fairygui.GRoot.inst.displayObject),n.Wmy_Load_Mag.getThis.onLoadWetData("res/loadInfo.json",Laya.Handler.create(this,this.onLoadLoad))},t.prototype.RESIZE=function(){null!=this._loadBox&&(this._loadBox.width=Laya.stage.width,this._loadBox.height=Laya.stage.height),null!=this._mainView&&(this._mainView.width=Laya.stage.width,this._mainView.height=Laya.stage.height)},t.prototype.onLoadLoad=function(){var t=n.Wmy_Load_Mag.getThis.getResObj("load");null!=t&&n.Wmy_Load_Mag.getThis.onload(t,new Laya.Handler(this,this.onLoadMain))},t.prototype.onLoadMain=function(){this._loadBox=fairygui.UIPackage.createObject("load","Load").asCom,fairygui.GRoot.inst.addChild(this._loadBox),this.RESIZE(),this._Load=this._loadBox.getChild("_Load").asLoader,this._img=this._Load._content2.getChild("img").asCom,this._bar=this._Load._content2.getChild("bar").asProgress,n.Wmy_Load_Mag.getThis.onAutoLoadAll(new Laya.Handler(this,this.onLoadOk),new Laya.Handler(this,this.onLoading))},t.prototype.onLoading=function(t){r.WTweenManager.killTweens(this);var e=r.WTweenManager.createTween();e.setTarget(this,Laya.Handler.create(this,this._onLoading,null,!1)),e._to(this._bar.value,t,.25)},t.prototype._onLoading=function(t,e){this._bar.value=e,this._img.alpha=.01*e},t.prototype.onLoadOk=function(t,e){var a=this,n=e[0].urlList[0];this.scene3D=Laya.loader.getRes(n);var s=window._WmyShader;s&&s.setMaterialAll(this.scene3D,"res/mats/wmyMats.json"),fairygui.UIObjectFactory.setPackageItemExtension("ui://main/Main",i.UI_Main),fairygui.UIObjectFactory.setPackageItemExtension("ui://main/Game1",o.UI_Game1),r.WTweenManager.killTweens(this);var l=r.WTweenManager.createTween();l.setTarget(this,Laya.Handler.create(this,this._onLoading,null,!1)),l.onComplete(function(){a.u3dArr=e,a.onMain(),fairygui.GRoot.inst.removeChild(a._loadBox),a._loadBox=null,a._bar=null},this),l._to(this._bar.value,100,1)},t.prototype.onMain=function(){this._mainView=fairygui.UIPackage.createObject("main","RootMain").asCom,null!=this._mainView&&(fairygui.GRoot.inst.addChild(this._mainView),this.RESIZE())},t}();a.Main=l,new l},{"./_wmyUtilsH5/WmyUtils":2,"./_wmyUtilsH5/Wmy_Load_Mag":3,"./_wmyUtilsH5/wmyTween/WTweenManager":13,"./ui/UI_Game1":17,"./ui/UI_Main":18}],2:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=function(t){function e(){var e=t.call(this)||this;return e._eventList=new Array,Laya.stage.on(laya.events.Event.MOUSE_DOWN,e,e.__onTouchDown),Laya.stage.on(laya.events.Event.MOUSE_UP,e,e.__onTouchUp),Laya.stage.on(laya.events.Event.MOUSE_MOVE,e,e.__OnMouseMOVE),Laya.stage.on(Laya.Event.RESIZE,e,e.__onResize),e}return __extends(e,t),Object.defineProperty(e,"getThis",{get:function(){return null==e._this&&(e._this=new e),e._this},enumerable:!0,configurable:!0}),e.prototype.convertColorToColorFiltersMatrix=function(t,a,n,r){return e.COLOR_FILTERS_MATRIX[0]=t,e.COLOR_FILTERS_MATRIX[6]=a,e.COLOR_FILTERS_MATRIX[12]=n,e.COLOR_FILTERS_MATRIX[18]=r||1,e.COLOR_FILTERS_MATRIX},e.prototype.applyColorFilters=function(t,e){t.filters=null,16777215!=e&&(t.filters=[new Laya.ColorFilter(this.convertColorToColorFiltersMatrix((e>>16&255)/255,(e>>8&255)/255,(255&e)/255))])},e.prototype.applyColorFilters1=function(t,e,a,n,r){t.filters=null,(e<1||a<1||n<1||r<1)&&(t.filters=[new Laya.ColorFilter(this.convertColorToColorFiltersMatrix(e,a,n,r))])},e.prototype.isPc=function(){return!(this.versions().android||this.versions().iPhone||this.versions().ios)&&(this.versions().iPad,!0)},e.prototype.versions=function(){var t=navigator.userAgent;navigator.appVersion;return{trident:t.indexOf("Trident")>-1,presto:t.indexOf("Presto")>-1,webKit:t.indexOf("AppleWebKit")>-1,gecko:t.indexOf("Gecko")>-1&&-1==t.indexOf("KHTML"),mobile:!!t.match(/AppleWebKit.*Mobile.*/)||!!t.match(/AppleWebKit/),ios:!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:t.indexOf("Android")>-1||t.indexOf("Linux")>-1,iPhone:t.indexOf("iPhone")>-1||t.indexOf("Mac")>-1,iPad:t.indexOf("iPad")>-1,webApp:-1==t.indexOf("Safari")}},e.getUrlV=function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),a=window.location.search.substr(1).match(e);return a?decodeURIComponent(a[2]):null},e.prototype.onNavigate=function(t,e){void 0===e&&(e=!1),e?window.location.replace(t):window.location.href=t},e.prototype.__onTouchDown=function(t){this._eventList.indexOf(t)<0&&this._eventList.push(t)},e.prototype.__onTouchUp=function(t){this._eventList.indexOf(t)>=0&&this._eventList.splice(this._eventList.indexOf(t),1)},e.prototype.__onResize=function(){this._eventList.forEach(function(t){t.type=Laya.Event.MOUSE_UP,Laya.stage.event(Laya.Event.MOUSE_UP,t)}),this._eventList=new Array},e.prototype.__OnMouseMOVE=function(t){(t.stageX<=10||t.stageX>=Laya.stage.width-10||t.stageY<=10||t.stageY>=Laya.stage.height-10)&&(t.type=Laya.Event.MOUSE_UP,Laya.stage.event(Laya.Event.MOUSE_UP,t))},e.onNumTo=function(t,e){return void 0===e&&(e=2),(t+"").indexOf(".")>=0&&(t=parseFloat(t.toFixed(e))),t},e.getR_XY=function(t,e){var a=e*Math.PI/180,n=t*Math.cos(a),r=t*Math.sin(a);return new Laya.Point(n,r)},e.string2buffer=function(t){for(var e="",a=0;a<t.length;a++)""===e?e=t.charCodeAt(a).toString(16):e+=","+t.charCodeAt(a).toString(16);return new Uint8Array(e.match(/[\da-f]{2}/gi).map(function(t){return parseInt(t,16)})).buffer},e.replaceAll=function(t,e,a){var n="";return(n=t.replace(e,a)).indexOf(e)>=0&&(n=this.replaceAll(n,e,a)),n},e.toCase=function(t,e){void 0===e&&(e=!1);return e?t.toUpperCase():t.toLowerCase()},e.getDistance=function(t,e){var a=Math.abs(t.x-e.x),n=Math.abs(t.y-e.y),r=Math.sqrt(Math.pow(a,2)+Math.pow(n,2));return r=parseFloat(r.toFixed(2))},e.getXyToR=function(t,e){var a=Math.atan2(t,e),n=180/Math.PI*a;return n=this.onNumTo(n)},e.storage=function(t,e,a){void 0===e&&(e="?"),void 0===a&&(a=!0);var n=a?localStorage:sessionStorage;if("?"==e){return n.getItem(t)}return null!=e?(n.setItem(t,e),e):(n.removeItem(t),null)},e.playFuiSound=function(t,e,a,n,r){if(void 0===e&&(e=.2),void 0===n&&(n=0),void 0===r&&(r=1),!(e<=0)){var i=fairygui.UIPackage.getItemByURL(t).file;Laya.SoundManager.playSound(i,r,a,null,n),Laya.SoundManager.setSoundVolume(e,i)}},e.COLOR_FILTERS_MATRIX=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0],e}(laya.events.EventDispatcher);a.WmyUtils=n},{}],3:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=t("./WmyUtils"),r=t("./d3/WmyLoad3d"),i=t("./d3/WmyLoadMats"),o=function(){function t(){this._wetData={},this.resUrl="",this._resDataArr=[],this._callbackOk=[],this._callbackProgress=[],this._isAutoLoadP=!1,this._isU3d=!1}return Object.defineProperty(t,"getThis",{get:function(){return null==t._this&&(t._this=new t),t._this},enumerable:!0,configurable:!0}),t.prototype.getWetData=function(t){return this._wetData[t]},t.prototype.setWetData=function(t,e){if(""==this.resUrl){this.resUrl=e;try{JSON.parse(t)}catch(t){}}null==e&&(e=this.resUrl),this._wetData[e]=t},t.prototype.getResObj=function(t,e){var a;if(null==e&&(e=this.resUrl),null==(a=this.getWetData(e)))return console.warn("空数据"),null;var n=null;if(a instanceof Array&&(n=a),null==n)try{n=JSON.parse(a)}catch(t){return console.warn("加载材料数据错误",a),null}for(var r=null,i=0;i<n.length;i++){var o=n[i];if(o.resName==t){r=o;break}}return r},t.prototype.onLoadWetData=function(t,e){if(""!=t){if(null==this.getWetData(t)){return Laya.loader.load(t,new Laya.Handler(this,function(a){this.setWetData(a,t),e.runWith([this._wetData[t]])}))}e.runWith([this.getWetData(t)])}},t.prototype.onloadStr=function(t,e,a){var n=this.getResObj(t);null!=n?this.onload(n,e,a):console.warn("onloadStr-出错:",t)},t.prototype.onload=function(t,e,a){var r=t.resName;if(null!=this._resDataArr[r])this._resDataArr[r].runWith([this._resDataArr[r]]);else{if(null!=this._callbackOk[r])return this._callbackOk[r].push(e),null!=a&&this._callbackProgress[r].push(a),!0;var i=t.Resres,o={},s=t.resData;if(null!=s&&""!=s)try{o=JSON.parse(s)}catch(t){console.warn("加载材料数据错误",s)}for(var l,u=[],h=0;h<i.length;h++){var c=i[h].resUrl;if(null!=c){var _=c=n.WmyUtils.toCase(c);_.indexOf(".txt")>=0?(u.push({url:_,type:Laya.Loader.BUFFER}),l=c):_.indexOf(".jpg")>=0||_.indexOf(".png")>=0?u.push({url:_,type:Laya.Loader.IMAGE}):_.indexOf(".mp3")>=0||_.indexOf(".wav")>=0?u.push({url:_,type:Laya.Loader.SOUND}):u.push({url:_})}}if(u.length<=0)return!1;this._callbackOk[r]=[],this._callbackOk[r].push(e),this._callbackProgress[r]=[],null!=a&&this._callbackProgress[r].push(a),Laya.loader.load(u,Laya.Handler.create(this,this.onAssetConmplete,[r,l,o]),Laya.Handler.create(this,this.onAssetProgress,[r],!1))}return!0},t.prototype.onClear3dRes=function(t){Laya.Resource.destroyUnusedResources(),r.WmyLoad3d.getThis.clearRes(t)},t.prototype.onLoad3dOne=function(t,e,a){r.WmyLoad3d.onLoad3dOne(t,e,a)},t.prototype.onload3d=function(t,e,a){var n=t.resName;if(null!=this._resDataArr[n])this._resDataArr[n].runWith([this._resDataArr[n]]);else{if(null!=this._callbackOk[n])return this._callbackOk[n].push(e),null!=a&&this._callbackProgress[n].push(a),!0;var i=t.Resres,o={},s=t.resData;if(null!=s&&""!=s)try{o=JSON.parse(s)}catch(t){console.warn("加载材料数据错误",s)}for(var l=[],u=[],h=0;h<i.length;h++){var c=i[h].resUrl;if(null!=c){var _=c;(c.indexOf(".ls")>=0||c.indexOf(".lh")>=0)&&(l.push({url:_}),u.push(_))}}if(l.length<=0)return!1;this._callbackOk[n]=[],this._callbackOk[n].push(e),this._callbackProgress[n]=[],null!=a&&this._callbackProgress[n].push(a),o.urlList=u,r.WmyLoad3d.getThis.onload3d(l,Laya.Handler.create(this,this.onAssetConmplete,[n,void 0,o]),Laya.Handler.create(this,this.onAssetProgress,[n],!1))}return!0},t.prototype.onAssetProgress=function(t,e){for(var a=this._callbackProgress[t],n=0;n<a.length;n++){a[n].runWith([e])}},t.prototype.onAssetConmplete=function(t,e,a){var n=this._callbackOk[t];if(null!=e){var r=Laya.loader.getRes(e),i=e.replace(".txt","");try{fairygui.UIPackage.addPackage(i,r)}catch(t){console.warn("FUI-出错:",i)}var o=i.split("/");a.bName=o[o.length-1],this._resDataArr[t]=a}for(var s=0;s<n.length;s++){var l=n[s];null!=l&&l.runWith([a])}this._callbackOk[t]=null,this._callbackProgress[t]=null},t.prototype.onAutoLoadAll=function(t,e){var a=this.getWetData(this.resUrl);if(null==a)return console.warn("空数据"),null;var n=null;if(a instanceof Array&&(n=a),null==n)try{n=JSON.parse(a)}catch(t){return console.warn("加载材料数据错误",a),null}this._autoLoadrCallbackOk=t,this._autoLoadrCallbackProgress=e,this._autoLoadInfoArr={},this._autoLoadInfoArr.num=0,this._autoLoadInfoArr.cNum=0,this._autoLoadInfoArr.uiArr=[],this._autoLoadInfoArr.u3dArr=[];for(var r=0;r<n.length;r++){var i=n[r],o=i.resName,s=i.type;null!=o&&""!=o&&null!=s&&""!=s&&this.onAutoLoadObj(s,o)}this._isAutoLoadP=!0},t.prototype.onAutoLoadObj=function(t,e){var a=this,n=this.getResObj(e);if(null!=n){var r=this._autoLoadInfoArr.num;this._autoLoadInfoArr[r]={},this._autoLoadInfoArr[r].n=e,this._autoLoadInfoArr[r].t=t;var o=!1;if("ui"==t)o=this.onload(n,new Laya.Handler(this,this.onLoadOk,[r]),new Laya.Handler(this,this.onLoading,[r])),this._autoLoadInfoArr.num+=1,o||(console.warn("ui-出错:",e),Laya.timer.once(100,null,function(t){a.onLoadOk(t)},[r]));else if("u3d"==t)o=this.onload3d(n,new Laya.Handler(this,this.onLoadOk,[r]),new Laya.Handler(this,this.onLoading,[r])),this._autoLoadInfoArr.num+=1,this._isU3d=!0,o||(console.warn("u3d-出错:",e),Laya.timer.once(100,null,function(t){a.onLoadOk(t)},[r]));else if("mats"==t){for(var s=n.Resres,l=[],u=0;u<s.length;u++){h=(c=s[u]).resUrl;if(null!=(h=Laya.ResourceVersion.addVersionPrefix(h))){_=h;l.push(_)}}l.length>0&&(i.WmyLoadMats.getThis.onload3d(l,new Laya.Handler(this,this.onLoadOk,[r]),new Laya.Handler(this,this.onLoading,[r])),o=!0),this._autoLoadInfoArr.num+=1,o||(console.warn("mats-出错:",e),Laya.timer.once(100,null,function(t){a.onLoadOk(t)},[r]))}else if("cubeMap"==t)for(var s=n.Resres,u=0;u<s.length;u++){var h,c=s[u],_=h=c.resUrl;Laya.TextureCube.load(_,null)}else"audio"==t&&(o=this.onload(n,new Laya.Handler(this,this.onLoadOk,[r]),new Laya.Handler(this,this.onLoading,[r])),this._autoLoadInfoArr.num+=1,o||(console.warn("audio-出错:",e),Laya.timer.once(100,null,function(t){a.onLoadOk(t)},[r])))}},t.prototype.getCube=function(t,e){var a=this.getResObj(t);if(null!=a){for(var n=a.Resres,r=[],i=0;i<n.length;i++){var o=n[i].resUrl,s=o=Laya.ResourceVersion.addVersionPrefix(o);Laya.TextureCube.load(s,new Laya.Handler(this,function(t){r[i]=t,e.runWith([t,i])}))}return r}},t.prototype.onLoading=function(t,e){var a=0;if(this._isAutoLoadP){this._autoLoadInfoArr[t].p=e;for(var n=this._autoLoadInfoArr.num,r=0,i=1/n,o=0,s=0,l=0;l<n;l++){var u=this._autoLoadInfoArr[l],h=u.p;null!=h&&(this._isU3d?("u3d"==u.t?s=h*(i*(l+1))*.8:o=h*(i*(l+1))*.2,r=o+s):r=h*(i*(l+1)))}a=100*r,isNaN(a)&&(a=0),a>1&&null!=this._autoLoadrCallbackProgress&&this._autoLoadrCallbackProgress.runWith([a])}else null!=this._autoLoadrCallbackProgress&&this._autoLoadrCallbackProgress.runWith([a])},t.prototype.onLoadOk=function(t,e){this._autoLoadInfoArr.cNum+=1,"ui"==this._autoLoadInfoArr[t].t?this._autoLoadInfoArr.uiArr.push(e):"u3d"==this._autoLoadInfoArr[t].t&&this._autoLoadInfoArr.u3dArr.push(e),this._autoLoadInfoArr.cNum>=this._autoLoadInfoArr.num&&null!=this._autoLoadrCallbackOk&&this._autoLoadrCallbackOk.runWith([this._autoLoadInfoArr.uiArr,this._autoLoadInfoArr.u3dArr])},t}();a.Wmy_Load_Mag=o},{"./WmyUtils":2,"./d3/WmyLoad3d":4,"./d3/WmyLoadMats":5}],4:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=t("./WmyUtils3D"),r=function(){function t(){this._mNum=0,this._pNum=0}return Object.defineProperty(t,"getThis",{get:function(){return null==t._this&&(t._this=new t),t._this},enumerable:!0,configurable:!0}),t.prototype.onload3d=function(t,e,a,n){this._urlList=[],this._callbackOk=e,this._callbackProgress=a;for(var r=0;r<t.length;r++){var i=t[r].url;i=Laya.ResourceVersion.addVersionPrefix(i),this._urlList.push(i),this._onload3d(i)}},t.onLoad3dOne=function(e,a,n){(new t).__onload3dOne(e,a,n)},t.prototype.__onload3dOne=function(t,e,a){this._urlList=[],this._callbackOk=e,this._callbackProgress=a,t=Laya.ResourceVersion.addVersionPrefix(t),this._urlList.push(t),this._onload3d(t)},t.prototype._onload3d=function(t){Laya.loader.clearRes(t),Laya.loader._createLoad(t);Laya.LoaderManager._resMap[t].once(Laya.Event.COMPLETE,this,this.__onlsUrlOk,[t])},t.prototype.__onlsUrlOk=function(t,e){var a=t.split("/"),n=t.replace(a[a.length-1],""),r=JSON.parse(e);this._mArr=[],this.__tiQuUrl(r.data,n);for(var i=0;i<this._mArr.length;i++)t=this._mArr[i],Laya.loader.create(t,Laya.Handler.create(this,this.__onLoadOk))},t.prototype.__onLoadOk=function(){var t=this;this._mNum+=1,this._pNum=this._mNum/this._mArr.length,this.__onLoadP(null),this._mNum>=this._mArr.length&&Laya.loader.create(this._urlList,Laya.Handler.create(this,function(){null!=t._callbackOk&&t._callbackOk.run(),t._urlList=null,t._callbackOk=null,t._callbackProgress=null,t._mArr=null}),Laya.Handler.create(this,this.__onLoadP))},t.prototype.__onLoadP=function(t){var e=.7*this._pNum;t&&(e+=.25*t),null!=this._callbackProgress&&this._callbackProgress.runWith([e])},t.prototype.__tiQuUrl=function(t,e){if(void 0===e&&(e=""),null!=t.props&&null!=t.props.meshPath){var a=e+t.props.meshPath;this._mArr.indexOf(a)<0&&this._mArr.push(a);var n=t.props.materials;if(null!=n)for(var r=0;r<n.length;r++){var i=e+n[r].path;this._mArr.indexOf(i)<0&&this._mArr.push(i)}}if(null!=t.components){var o=t.components;if(o.length>0)for(var s=0;s<o.length;s++){var l=o[s];if(null!=l.avatar){var u=e+l.avatar.path;this._mArr.indexOf(u)<0&&this._mArr.push(u)}if(null!=l.layers)for(var h=l.layers,c=0;c<h.length;c++)for(var _=h[c].states,d=0;d<_.length;d++){var p=e+_[d].clipPath;this._mArr.indexOf(p)<0&&this._mArr.push(p)}}}var f=t.child;if(null!=f&&f.length>0)for(var y=0;y<f.length;y++)this.__tiQuUrl(f[y],e)},t.prototype.clearRes=function(t){if(t&&!(t.indexOf("/")<0)){var e=t.split("/"),a=t.replace(e[e.length-1],""),n=[];for(var r in Laya.Loader.loadedMap)if(Laya.Loader.loadedMap.hasOwnProperty(r)){var i=r;(i.indexOf(a)>=0||i.indexOf("res/mats/")>=0)&&n.indexOf(i)<0&&n.push(i)}for(var o=0;o<n.length;o++){var s=n[o];try{var l=Laya.loader.getRes(s);l.lock||(l.destroy(),l.releaseResource(!0))}catch(t){}try{Laya.loader.clearRes(s)}catch(t){}}}},t.idResourcesMapLock=function(e,a){if(void 0===a&&(a=!0),null!=e){var r=n.WmyUtils3D.getChildrenComponent(e,Laya.RenderableSprite3D),i=[];for(var o in r){var s=r[o];t._loopLock(s,i)}var l=Laya.Resource._idResourcesMap;for(var u in i){l[i[u]].lock=a}}},t._loopLock=function(e,a){t._Mesh(e,a),t._Materials(e,a);for(var n in e){var r=e[n];r instanceof Laya.BaseRender&&t._loopLock(r,a)}},t._Mesh=function(e,a){for(var n in e){var r=e[n];if(r instanceof Laya.Mesh){t._getResourcesMapId(r,a);var i=r._vertexBuffers;if(i)for(var o in i){var s=i[o];s instanceof Laya.VertexBuffer3D&&t._getResourcesMapId(s,a)}for(var l in r){var u=r[l];u instanceof Laya.IndexBuffer3D&&t._getResourcesMapId(u,a)}}}},t._Materials=function(e,a){var n=e._materials;if(n)for(var r in n){var i=n[r];i instanceof Laya.BaseMaterial&&(t._getResourcesMapId(i,a),t._Shader(i,a),t._ShaderData(i,a))}},t._Shader=function(e,a){for(var n in e){var r=e[n];r instanceof Laya.Shader3D&&t._getResourcesMapId(r,a)}},t._ShaderData=function(e,a){for(var n in e){var r=e[n];r instanceof Laya.ShaderData&&t._BaseTexture(r._data,a)}},t._BaseTexture=function(e,a){for(var n in e){var r=e[n];r instanceof Laya.BaseTexture&&t._getResourcesMapId(r,a)}},t._getResourcesMapId=function(t,e){var a=Laya.Resource._idResourcesMap;for(var n in a){t==a[n]&&e.indexOf(n)<0&&e.push(n)}},t}();a.WmyLoad3d=r},{"./WmyUtils3D":8}],5:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function t(){this._matsUrlArr=[],this._matOk=!1,this._matNum=0,this._matP=0,this._matP2=0}return Object.defineProperty(t,"getThis",{get:function(){return null==t._this&&(t._this=new t),t._this},enumerable:!0,configurable:!0}),t.prototype.onload3d=function(t,e,a){this._callbackOk=e,this._callbackProgress=a,Laya.loader.load(t,Laya.Handler.create(this,this.__onUrlArrOk,[t]))},t.prototype.__onUrlArrOk=function(t){for(u=0;u<t.length;u++){var e=t[u],a=Laya.loader.getRes(e),n=e.split("/"),r=e.replace(n[n.length-1],""),i=[];try{i=a.mats}catch(t){}for(var o=0;o<i.length;o++){var s=i[o];if(""!=s.targetName){var l=r+s.matUrl;this._matsUrlArr.push(l)}}}for(var u=0;u<this._matsUrlArr.length;u++)e=this._matsUrlArr[u],Laya.loader.create(e,Laya.Handler.create(this,this.__onMatArrOk),Laya.Handler.create(this,this.__onMatArrP))},t.prototype.__onMatArrP=function(t){var e=t*(this._matNum+1);e>this._matP&&(this._matP=e),this._matP2=this._matP/this._matsUrlArr.length,null!=this._callbackProgress&&this._callbackProgress.runWith([this._matP2])},t.prototype.__onMatArrOk=function(){this._matNum+=1,this._matNum>=this._matsUrlArr.length&&null!=this._callbackOk&&this._callbackOk.run()},t}();a.WmyLoadMats=n},{}],6:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.speedV3=new Laya.Vector3,e.gravity=new Laya.Vector3,e.isLockMove=!1,e}return __extends(e,t),e.prototype.onDel=function(){null!=this.character&&(this.character.destroy(),this.character=null)},Object.defineProperty(e.prototype,"isGrounded",{get:function(){return null!=this.character&&this.character.isGrounded},enumerable:!0,configurable:!0}),e.prototype.onAwake=function(){var t=this.owner3D.getComponent(Laya.PhysicsCollider);t.enabled=!1;var e=t.colliderShape;this._radius=e.radius,this._length=e.length,this._orientation=e.orientation,this._localOffset=e.localOffset.clone(),t.destroy(),this.character=this.owner3D.addComponent(Laya.CharacterController);var a=new Laya.CapsuleColliderShape(this._radius,this._length,this._orientation);a.localOffset=this._localOffset,this.character.colliderShape=a,this.character.gravity=this.gravity},e.prototype.onUpdate=function(){this.character.gravity=this.gravity,this.character.move(this.speedV3)},e.prototype.move=function(t,e){var a=this;void 0===e&&(e=0),this.isLockMove=!0,this.character.move(t),Laya.timer.once(1e3*e,this,function(){a.isLockMove=!1})},e.prototype._updatePhysicsTransform=function(){this.character._derivePhysicsTransformation(!0)},e}(t("./WmyScript3D").WmyScript3D);a.WmyPhysicsWorld_Character=n},{"./WmyScript3D":7}],7:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=t("./WmyUtils3D"),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.del=function(t){void 0===t&&(t=!0),this.owner3D.destroy(t)},e.prototype.onDestroy=function(){this.owner3D=null,this.scene3D=null,this.onDel()},e.prototype.onDel=function(){},e.prototype._onAdded=function(){t.prototype._onAdded.call(this),this.owner3D=this.owner,this._localScale=new Laya.Vector3(0,0,0),this.owner3D.transform&&(this._localScale=this.owner3D.transform.localScale.clone()),this.scene3D=this.owner3D.scene},e.prototype.setShow=function(t){this.owner3D.transform.localScale=t?this._localScale:new Laya.Vector3(0,0,0)},e.prototype.getObj3dUrl=function(t,e){return n.WmyUtils3D.getObj3dUrl(t,e)},e}(Laya.Script3D);a.WmyScript3D=r},{"./WmyUtils3D":8}],8:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function t(){}return t.getObj3d=function(t,e){if(null==t)return null;if(t.name==e)return t;for(var a=0;a<t._children.length;a++){var n=t._children[a];if(n._children.length<=0){if(n.name==e)return n}else{var r=this.getObj3d(n,e);if(null!=r)return r}}return null},t.getObj3dUrl=function(t,e){var a=e.split("/");return this._getObjArrUrl(t,a)},t._getObjArrUrl=function(t,e,a){void 0===a&&(a=0);var n=t;if(null==n)return null;var r=e[a],i=n.getChildByName(r);return null==i?null:a>=e.length-1?i:i=this._getObjArrUrl(i,e,++a)},t.getChildrenComponent=function(t,e,a){if(null==a&&(a=[]),null==t)return a;var n=t.getComponent(e);if(null==n&&t instanceof e&&(n=t),null!=n&&a.indexOf(n)<0&&a.push(n),null==t._children)return a;for(var r=0;r<t._children.length;r++){var i=t._children[r];this.getChildrenComponent(i,e,a)}return a},t.instantiate=function(e,a){if(null==e)return null;var n=null;if(a){var r=t.getObj3d(e,a);r&&(n=Laya.Sprite3D.instantiate(r))}else n=Laya.Sprite3D.instantiate(e);return n},t.onShadow=function(t,e,a,n,r){void 0===e&&(e=512),void 0===a&&(a=1),void 0===n&&(n=15),void 0===r&&(r=!0),t.shadow=r,t.shadowDistance=n,t.shadowResolution=e,t.shadowPSSMCount=1,t.shadowPCFType=a},t.onCastShadow=function(t,e,a,n){if(void 0===e&&(e=0),void 0===a&&(a=!0),void 0===n&&(n=!0),t instanceof Laya.MeshSprite3D){var r=t;0==e?r.meshRenderer.receiveShadow=a:1==e?r.meshRenderer.castShadow=a:2==e&&(r.meshRenderer.receiveShadow=a,r.meshRenderer.castShadow=a)}if(t instanceof Laya.SkinnedMeshSprite3D){var i=t;0==e?i.skinnedMeshRenderer.receiveShadow=a:1==e&&(i.skinnedMeshRenderer.castShadow=a)}if(n)for(var o=0;o<t.numChildren;o++){var s=t.getChildAt(o);this.onCastShadow(s,e,a)}},t.rgb2hex=function(t,e,a){return("#"+this.hex(t)+this.hex(e)+this.hex(a)).toUpperCase()},t.hex=function(t){return t=this.onNumTo(t),("0"+parseInt(t).toString(16)).slice(-2)},t.hex2rgb=function(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,a,n){return e+e+a+a+n+n});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},t.onNumTo=function(t){return(t+"").indexOf(".")>=0&&(t=parseFloat(t.toFixed(2))),t},t.lerpF=function(t,e,a){return t+(e-t)*a},t.getRayCastAll=function(t,e,a,n,r){var i=new Array,o=a;o||(o=new Laya.Ray(new Laya.Vector3,new Laya.Vector3));var s=e.clone();return t.viewportPointToRay(s,o),null!=t.scene&&null!=t.scene.physicsSimulation&&t.scene.physicsSimulation.rayCastAll(o,i,1e4,n,r),i},t.Distance=function(t,e){var a=Math.abs(t.x-e.x),n=Math.abs(t.y-e.y),r=Math.sqrt(Math.pow(a,2)+Math.pow(n,2));return r=parseFloat(r.toFixed(2))},t.aniPlay=function(e,a,n,r,i,o,s){var l=e;if(null!=a&&(l=this.getObj3d(e,a)),null==l)return null;var u=l.getComponent(Laya.Animator);return null==u?null:(i&&t.aniAddEventFun(l,null,n,-1,i,!0,o,s),u.play(n,s,r),u)},t.aniAddEventFun=function(e,a,n,i,o,s,l,u){void 0===s&&(s=!0);var h=e;if(null!=a&&(h=this.getObj3d(e,a)),null==h)return null;var c=h.getComponent(Laya.Animator);if(null==c)return null;t._aniAddEvent(c,null,n,"_wmy_ani_callback",i,l,u);var _=h.getComponent(r);_||(_=h.addComponent(r));var d="wmy_"+o.caller.id+n+i;s?Laya.stage.once(d,this,function(t,e,a){e.runWith(a),_.delCallback(t)},[d,o]):Laya.stage.on(d,this,function(t,e,a){e.runWith(a)},[d,o]),_.addCallback(d)},t.aniDelEventFun=function(t,e,a){var n=t;if(null!=e&&(n=this.getObj3d(t,e)),null==n)return null;if(null==n.getComponent(Laya.Animator))return null;var i=n.getComponent(r);if(i){var o="wmy_"+a.caller.name+a.method.toString();Laya.stage.on(o,a.caller,a.method),i.delCallback(o)}},t._aniAddEvent=function(t,e,a,n,r,i,o){var s=null,l=null;if(t instanceof Laya.Sprite3D){if(s=t,null!=e&&(s=this.getObj3d(t,e)),null==s)return null;l=s.getComponent(Laya.Animator)}else t instanceof Laya.Animator&&(l=t);if(null==l)return null;var u=l.getControllerLayer(o)._statesMap[a];if(null==u)return null;var h=!0,c=u._clip._events;for(var _ in c)if(c.hasOwnProperty(_)){if(c[_].eventName==n&&d.time){h=!1;break}}if(h){var d=new Laya.AnimationEvent;d.eventName=n;var p=u._clip._duration;-1==r&&(r=p),d.time=r/p,d.params=i,u._clip.addEvent(d)}return l},t.aniAddScript=function(t,e,a,n,r){var i=t;if(null!=e&&(i=this.getObj3d(t,e)),null==i)return null;var o=i.getComponent(Laya.Animator);if(null==o)return null;var s=o.getControllerLayer(r)._statesMap[a];return null==s?null:(s.addScript(n),s)},t}();a.WmyUtils3D=n;var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._callback=[],e}return __extends(e,t),e.prototype.addCallback=function(t){this._callback.indexOf(t)<0&&this._callback.push(t)},e.prototype.delCallback=function(t){var e=this._callback.indexOf(t);e>=0&&this._callback.splice(e,1)},e.prototype._wmy_ani_callback=function(t){for(var e=0;e<this._callback.length;e++){var a=this._callback[e];Laya.stage.event(a,t)}},e}(Laya.Script3D)},{}],9:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isStart=!1,e}return __extends(e,t),e.prototype.dispose=function(){this.off(Laya.Event.DISPLAY,this,this._onShow),this.off(Laya.Event.UNDISPLAY,this,this.onHide),this.isStart=!1,this.del(),t.prototype.dispose.call(this)},e.prototype.del=function(){},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.on(Laya.Event.DISPLAY,this,this._onShow),this.on(Laya.Event.UNDISPLAY,this,this.onHide),this.onAwake()},e.prototype._onShow=function(){this.isStart||(this.isStart=!0,this.onStart()),this.onShow()},e.prototype.onAwake=function(){},e.prototype.onStart=function(){},e.prototype.onShow=function(){},e.prototype.onHide=function(){},e}(fairygui.GComponent);a.Wmy_UiObj=n},{}],10:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=t("./WEaseType"),r=function(){function t(){}return t.evaluate=function(e,a,r,o,s){switch(e){case n.WEaseType.Linear:return a/r;case n.WEaseType.SineIn:return 1-Math.cos(a/r*t._PiOver2);case n.WEaseType.SineOut:return Math.sin(a/r*t._PiOver2);case n.WEaseType.SineInOut:return-.5*(Math.cos(Math.PI*a/r)-1);case n.WEaseType.QuadIn:return(a/=r)*a;case n.WEaseType.QuadOut:return-(a/=r)*(a-2);case n.WEaseType.QuadInOut:return(a/=.5*r)<1?.5*a*a:-.5*(--a*(a-2)-1);case n.WEaseType.CubicIn:return(a/=r)*a*a;case n.WEaseType.CubicOut:return(a=a/r-1)*a*a+1;case n.WEaseType.CubicInOut:return(a/=.5*r)<1?.5*a*a*a:.5*((a-=2)*a*a+2);case n.WEaseType.QuartIn:return(a/=r)*a*a*a;case n.WEaseType.QuartOut:return-((a=a/r-1)*a*a*a-1);case n.WEaseType.QuartInOut:return(a/=.5*r)<1?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2);case n.WEaseType.QuintIn:return(a/=r)*a*a*a*a;case n.WEaseType.QuintOut:return(a=a/r-1)*a*a*a*a+1;case n.WEaseType.QuintInOut:return(a/=.5*r)<1?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2);case n.WEaseType.ExpoIn:return 0==a?0:Math.pow(2,10*(a/r-1));case n.WEaseType.ExpoOut:return a==r?1:1-Math.pow(2,-10*a/r);case n.WEaseType.ExpoInOut:return 0==a?0:a==r?1:(a/=.5*r)<1?.5*Math.pow(2,10*(a-1)):.5*(2-Math.pow(2,-10*--a));case n.WEaseType.CircIn:return-(Math.sqrt(1-(a/=r)*a)-1);case n.WEaseType.CircOut:return Math.sqrt(1-(a=a/r-1)*a);case n.WEaseType.CircInOut:return(a/=.5*r)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1);case n.WEaseType.ElasticIn:var l;return 0==a?0:1==(a/=r)?1:(0==s&&(s=.3*r),o<1?(o=1,l=s/4):l=s/t._TwoPi*Math.asin(1/o),-o*Math.pow(2,10*(a-=1))*Math.sin((a*r-l)*t._TwoPi/s));case n.WEaseType.ElasticOut:var u;return 0==a?0:1==(a/=r)?1:(0==s&&(s=.3*r),o<1?(o=1,u=s/4):u=s/t._TwoPi*Math.asin(1/o),o*Math.pow(2,-10*a)*Math.sin((a*r-u)*t._TwoPi/s)+1);case n.WEaseType.ElasticInOut:var h;return 0==a?0:2==(a/=.5*r)?1:(0==s&&(s=r*(.3*1.5)),o<1?(o=1,h=s/4):h=s/t._TwoPi*Math.asin(1/o),a<1?o*Math.pow(2,10*(a-=1))*Math.sin((a*r-h)*t._TwoPi/s)*-.5:o*Math.pow(2,-10*(a-=1))*Math.sin((a*r-h)*t._TwoPi/s)*.5+1);case n.WEaseType.BackIn:return(a/=r)*a*((o+1)*a-o);case n.WEaseType.BackOut:return(a=a/r-1)*a*((o+1)*a+o)+1;case n.WEaseType.BackInOut:return(a/=.5*r)<1?a*a*((1+(o*=1.525))*a-o)*.5:.5*((a-=2)*a*((1+(o*=1.525))*a+o)+2);case n.WEaseType.BounceIn:return i.easeIn(a,r);case n.WEaseType.BounceOut:return i.easeOut(a,r);case n.WEaseType.BounceInOut:return i.easeInOut(a,r);default:return-(a/=r)*(a-2)}},t._PiOver2=.5*Math.PI,t._TwoPi=2*Math.PI,t}();a.WEaseManager=r;var i=function(){function t(){}return t.easeIn=function(e,a){return 1-t.easeOut(a-e,a)},t.easeOut=function(t,e){return(t/=e)<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},t.easeInOut=function(e,a){return e<.5*a?.5*t.easeIn(2*e,a):.5*t.easeOut(2*e-a,a)+.5},t}();a.Bounce=i},{"./WEaseType":11}],11:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function t(){}return t.Linear=0,t.SineIn=1,t.SineOut=2,t.SineInOut=3,t.QuadIn=4,t.QuadOut=5,t.QuadInOut=6,t.CubicIn=7,t.CubicOut=8,t.CubicInOut=9,t.QuartIn=10,t.QuartOut=11,t.QuartInOut=12,t.QuintIn=13,t.QuintOut=14,t.QuintInOut=15,t.ExpoIn=16,t.ExpoOut=17,t.ExpoInOut=18,t.CircIn=19,t.CircOut=20,t.CircInOut=21,t.ElasticIn=22,t.ElasticOut=23,t.ElasticInOut=24,t.BackIn=25,t.BackOut=26,t.BackInOut=27,t.BounceIn=28,t.BounceOut=29,t.BounceInOut=30,t.Custom=31,t}();a.WEaseType=n},{}],12:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=t("./WTweenManager"),r=function(){function t(){}return t.to=function(t,e,a){return n.WTweenManager.createTween()._to(t,e,a)},t.to2=function(t,e,a,r,i){return n.WTweenManager.createTween()._to2(t,e,a,r,i)},t.to3=function(t,e,a,r,i,o,s){return n.WTweenManager.createTween()._to3(t,e,a,r,i,o,s)},t.to4=function(t,e,a,r,i,o,s,l,u){return n.WTweenManager.createTween()._to4(t,e,a,r,i,o,s,l,u)},t.toColor=function(t,e,a){return n.WTweenManager.createTween()._toColor(t,e,a)},t.delayedCall=function(t){return n.WTweenManager.createTween().setDelay(t)},t.shake=function(t,e,a,r){return n.WTweenManager.createTween()._shake(t,e,a,r)},t.isTweening=function(t,e){return n.WTweenManager.isTweening(t,e)},t.kill=function(t,e,a){void 0===e&&(e=!1),void 0===a&&(a=null),n.WTweenManager.killTweens(t,!1,null)},t.getTween=function(t,e){return void 0===e&&(e=null),n.WTweenManager.getTween(t,e)},t.catchCallbackExceptions=!0,t}();a.WTween=r},{"./WTweenManager":13}],13:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=t("./WTweener"),r=function(){function t(){}return t.createTween=function(){t._inited||(Laya.timer.frameLoop(1,null,this.update),t._inited=!0);var e;return(e=t._tweenerPool.length>0?t._tweenerPool.pop():new n.WTweener)._init(),t._activeTweens[t._totalActiveTweens++]=e,t._totalActiveTweens==t._activeTweens.length&&(t._activeTweens.length=t._activeTweens.length+Math.ceil(.5*t._activeTweens.length)),e},t.isTweening=function(e,a){if(null==e)return!1;for(var n=null==a,r=0;r<t._totalActiveTweens;r++){var i=t._activeTweens[r];if(null!=i&&i.target==e&&!i._killed&&(n||i._propType==a))return!0}return!1},t.killTweens=function(e,a,n){if(void 0===a&&(a=!1),void 0===n&&(n=null),null==e)return!1;for(var r=!1,i=t._totalActiveTweens,o=null==n,s=0;s<i;s++){var l=t._activeTweens[s];null==l||l.target!=e||l._killed||!o&&l._propType!=n||(l.kill(a),r=!0)}return r},t.getTween=function(e,a){if(null==e)return null;for(var n=t._totalActiveTweens,r=null==a,i=0;i<n;i++){var o=t._activeTweens[i];if(null!=o&&o.target==e&&!o._killed&&(r||o._propType==a))return o}return null},t.update=function(){for(var e=Laya.timer.delta/1e3,a=t._totalActiveTweens,n=-1,r=0;r<a;r++){var i=t._activeTweens[r];null==i?(-1==n&&(n=r),0):i._killed?(i._reset(),t._tweenerPool.push(i),t._activeTweens[r]=null,-1==n&&(n=r),0):(i._paused||i._update(e),-1!=n&&(t._activeTweens[n]=i,t._activeTweens[r]=null,n++))}if(n>=0){if(t._totalActiveTweens!=a){var o=a;for(a=t._totalActiveTweens-a,r=0;r<a;r++)t._activeTweens[n++]=t._activeTweens[o++]}t._totalActiveTweens=n}},t._activeTweens=new Array(30),t._tweenerPool=[],t._totalActiveTweens=0,t._inited=!1,t}();a.WTweenManager=r},{"./WTweener":15}],14:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function t(){this.x=this.y=this.z=this.w=0}return Object.defineProperty(t.prototype,"color",{get:function(){return(this.w<<24)+(this.x<<16)+(this.y<<8)+this.z},set:function(t){this.x=(16711680&t)>>16,this.y=(65280&t)>>8,this.z=255&t,this.w=(4278190080&t)>>24},enumerable:!0,configurable:!0}),t.prototype.getField=function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("Index out of bounds: "+t)}},t.prototype.setField=function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("Index out of bounds: "+t)}},t.prototype.setZero=function(){this.x=this.y=this.z=this.w=0},t}();a.WTweenValue=n},{}],15:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=t("./WTweenValue"),r=t("./WEaseType"),i=t("./WTween"),o=t("./WEaseManager"),s=function(){function t(){this._startValue=new n.WTweenValue,this._endValue=new n.WTweenValue,this._value=new n.WTweenValue,this._deltaValue=new n.WTweenValue,this._reset()}return t.prototype.setDelay=function(t){return this._delay=t,this},Object.defineProperty(t.prototype,"delay",{get:function(){return this._delay},enumerable:!0,configurable:!0}),t.prototype.setDuration=function(t){return this._duration=t,this},Object.defineProperty(t.prototype,"duration",{get:function(){return this._duration},enumerable:!0,configurable:!0}),t.prototype.setBreakpoint=function(t){return this._breakpoint=t,this},t.prototype.setEase=function(t){return this._easeType=t,this},t.prototype.setEasePeriod=function(t){return this._easePeriod=t,this},t.prototype.setEaseOvershootOrAmplitude=function(t){return this._easeOvershootOrAmplitude=t,this},t.prototype.setRepeat=function(t,e){return void 0===e&&(e=!1),this._repeat=this.repeat,this._yoyo=e,this},Object.defineProperty(t.prototype,"repeat",{get:function(){return this._repeat},enumerable:!0,configurable:!0}),t.prototype.setTimeScale=function(t){return this._timeScale=t,this},t.prototype.setSnapping=function(t){return this._snapping=t,this},t.prototype.setTarget=function(t,e){return void 0===e&&(e=null),this._target=this.value,this._propType=e,this},Object.defineProperty(t.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),t.prototype.setUserData=function(t){return this._userData=this.value,this},Object.defineProperty(t.prototype,"userData",{get:function(){return this._userData},enumerable:!0,configurable:!0}),t.prototype.onUpdate=function(t,e){return this._onUpdate=t,this._onUpdateCaller=e,this},t.prototype.onStart=function(t,e){return this._onStart=t,this._onStartCaller=e,this},t.prototype.onComplete=function(t,e){return this._onComplete=t,this._onCompleteCaller=e,this},Object.defineProperty(t.prototype,"startValue",{get:function(){return this._startValue},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endValue",{get:function(){return this._endValue},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"deltaValue",{get:function(){return this._deltaValue},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"normalizedTime",{get:function(){return this._normalizedTime},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"completed",{get:function(){return 0!=this._ended},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allCompleted",{get:function(){return 1==this._ended},enumerable:!0,configurable:!0}),t.prototype.setPaused=function(t){return this._paused=t,this},t.prototype.seek=function(t){if(!this._killed){if(this._elapsedTime=t,this._elapsedTime<this._delay){if(!this._started)return;this._elapsedTime=this._delay}this.update()}},t.prototype.kill=function(t){void 0===t&&(t=!1),this._killed||(t&&(0==this._ended&&(this._breakpoint>=0?this._elapsedTime=this._delay+this._breakpoint:this._repeat>=0?this._elapsedTime=this._delay+this._duration*(this._repeat+1):this._elapsedTime=this._delay+2*this._duration,this.update()),this.callCompleteCallback()),this._killed=!0)},t.prototype._to=function(t,e,a){return this._valueSize=1,this._startValue.x=t,this._endValue.x=e,this._duration=a,this},t.prototype._to2=function(t,e,a,n,r){return this._valueSize=2,this._startValue.x=t,this._endValue.x=a,this._startValue.y=e,this._endValue.y=n,this._duration=r,this},t.prototype._to3=function(t,e,a,n,r,i,o){return this._valueSize=3,this._startValue.x=t,this._endValue.x=n,this._startValue.y=e,this._endValue.y=r,this._startValue.z=a,this._endValue.z=i,this._duration=o,this},t.prototype._to4=function(t,e,a,n,r,i,o,s,l){return this._valueSize=4,this._startValue.x=t,this._endValue.x=r,this._startValue.y=e,this._endValue.y=i,this._startValue.z=a,this._endValue.z=o,this._startValue.w=n,this._endValue.w=s,this._duration=l,this},t.prototype._toColor=function(t,e,a){return this._valueSize=4,this._startValue.color=t,this._endValue.color=e,this._duration=a,this},t.prototype._shake=function(t,e,a,n){return this._valueSize=5,this._startValue.x=t,this._startValue.y=e,this._startValue.w=a,this._duration=n,this._easeType=r.WEaseType.Linear,this},t.prototype._init=function(){this._delay=0,this._duration=0,this._breakpoint=-1,this._easeType=r.WEaseType.QuadOut,this._timeScale=1,this._easePeriod=0,this._easeOvershootOrAmplitude=1.70158,this._snapping=!1,this._repeat=0,this._yoyo=!1,this._valueSize=0,this._started=!1,this._paused=!1,this._killed=!1,this._elapsedTime=0,this._normalizedTime=0,this._ended=0},t.prototype._reset=function(){this._target=null,this._userData=null,this._onStart=this._onUpdate=this._onComplete=null,this._onStartCaller=this._onUpdateCaller=this._onCompleteCaller=null},t.prototype._update=function(t){if(1!=this._timeScale&&(t*=this._timeScale),0!=t){if(0!=this._ended)return this.callCompleteCallback(),void(this._killed=!0);this._elapsedTime+=t,this.update(),0!=this._ended&&(this._killed||(this.callCompleteCallback(),this._killed=!0))}},t.prototype.update=function(t){if(null!=t){if(1!=this._timeScale&&(t*=this._timeScale),0==t)return;this._elapsedTime+=t}this._ended=0;var e=this._duration;if(0!=this._valueSize){if(!this._started){if(this._elapsedTime<this._delay)return;if(this._started=!0,this.callStartCallback(),this._killed)return}var a=!1,n=this._elapsedTime-this._delay;if(this._breakpoint>=0&&n>=this._breakpoint&&(n=this._breakpoint,this._ended=2),0!=this._repeat){var r=Math.floor(n/e);n-=e*r,this._yoyo&&(a=r%2==1),this._repeat>0&&this._repeat-r<0&&(this._yoyo&&(a=this._repeat%2==1),n=e,this._ended=1)}else n>=e&&(n=e,this._ended=1);if(this._normalizedTime=o.WEaseManager.evaluate(this._easeType,a?e-n:n,e,this._easeOvershootOrAmplitude,this._easePeriod),this._value.setZero(),this._deltaValue.setZero(),5==this._valueSize)if(0==this._ended){var i=this._startValue.w*(1-this._normalizedTime),s=(2*Math.random()-1)*i,l=(2*Math.random()-1)*i;s=s>0?Math.ceil(s):Math.floor(s),l=l>0?Math.ceil(l):Math.floor(l),this._deltaValue.x=s,this._deltaValue.y=l,this._value.x=this._startValue.x+s,this._value.y=this._startValue.y+l}else this._value.x=this._startValue.x,this._value.y=this._startValue.y;else for(var u=0;u<this._valueSize;u++){var h=this._startValue.getField(u),c=h+(this._endValue.getField(u)-h)*this._normalizedTime;this._snapping&&(c=Math.round(c)),this._deltaValue.setField(u,c-this._value.getField(u)),this._value.setField(u,c)}if(null!=this._target&&null!=this._propType)if(this._propType instanceof Function)switch(this._valueSize){case 1:this._propType.call(this._target,this._value.x);break;case 2:this._propType.call(this._target,this._value.x,this._value.y);break;case 3:this._propType.call(this._target,this._value.x,this._value.y,this._value.z);break;case 4:this._propType.call(this._target,this._value.x,this._value.y,this._value.z,this._value.w);break;case 5:this._propType.call(this._target,this._value.color);break;case 6:this._propType.call(this._target,this._value.x,this._value.y)}else if(this._propType instanceof Laya.Handler){var _=[];switch(this._valueSize){case 1:_=[this._target,this._value.x];break;case 2:_=[this._target,this._value.x,this._value.y];break;case 3:_=[this._target,this._value.x,this._value.y,this._value.z];break;case 4:_=[this._target,this._value.x,this._value.y,this._value.z,this._value.w];break;case 5:_=[this._target,this._value.color];break;case 6:_=[this._target,this._value.x,this._value.y]}this._propType.runWith(_)}else 5==this._valueSize?this._target[this._propType]=this._value.color:this._target[this._propType]=this._value.x;this.callUpdateCallback()}else this._elapsedTime>=this._delay+e&&(this._ended=1)},t.prototype.callStartCallback=function(){if(null!=this._onStart)if(i.WTween.catchCallbackExceptions)try{this._onStart.call(this._onStartCaller,this)}catch(t){console.log("FairyGUI: error in start callback > "+t.message)}else this._onStart.call(this._onStartCaller,this)},t.prototype.callUpdateCallback=function(){if(null!=this._onUpdate)if(i.WTween.catchCallbackExceptions)try{this._onUpdate.call(this._onUpdateCaller,this)}catch(t){console.log("FairyGUI: error in this.update callback > "+t.message)}else this._onUpdate.call(this._onUpdateCaller,this)},t.prototype.callCompleteCallback=function(){if(null!=this._onComplete)if(i.WTween.catchCallbackExceptions)try{this._onComplete.call(this._onCompleteCaller,this)}catch(t){console.log("FairyGUI: error in complete callback > "+t.message)}else this._onComplete.call(this._onCompleteCaller,this)},t}();a.WTweener=s},{"./WEaseManager":10,"./WEaseType":11,"./WTween":12,"./WTweenValue":14}],16:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=t("../_wmyUtilsH5/d3/WmyScript3D"),r=t("../_wmyUtilsH5/d3/WmyPhysicsWorld_Character"),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),Object.defineProperty(e.prototype,"wCharacter",{get:function(){return this._wCharacter},enumerable:!0,configurable:!0}),e.prototype.onDel=function(){},e.prototype.onAwake=function(){this._wCharacter=this.owner3D.addComponent(r.WmyPhysicsWorld_Character),this._wCharacter.character.restitution=0,this._wCharacter.character.friction=0,this._wCharacter._updatePhysicsTransform()},e.prototype.onStart=function(){},e.prototype.onUpdate=function(){this.owner3D.transform.localPositionX=2.65,this.owner3D.transform.localPositionZ=0,this.owner3D.transform.localRotationEuler=Laya.Vector3.ZERO;var t=!1;this.owner3D.transform.localPositionY<0?(this.owner3D.transform.localPositionY=0,t=!0):this.owner3D.transform.localPositionY>18&&(this.owner3D.transform.localPositionY=18,t=!0),t&&this._wCharacter._updatePhysicsTransform()},e}(n.WmyScript3D);a.js_Bird=i},{"../_wmyUtilsH5/d3/WmyPhysicsWorld_Character":6,"../_wmyUtilsH5/d3/WmyScript3D":7}],17:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=t("../_wmyUtilsH5/ui/Wmy_UiObj"),r=t("../_wmyUtilsH5/d3/WmyUtils3D"),i=t("../game/js_Bird"),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.del=function(){},e.prototype.onAwake=function(){this._d3=this.getChild("d3").asCom,this._btn_mouseClick=this.getChild("btn_mouseClick").asCom},e.prototype.onGameGo=function(t){this._scene3D=t,this._d3.displayObject.addChild(this._scene3D),this._bird3d=r.WmyUtils3D.getObj3d(this._scene3D,"bird"),this.js_bird=this._bird3d.addComponent(i.js_Bird)},e.prototype.onShow=function(){var t=this;this.js_bird.wCharacter.gravity=new Laya.Vector3(0,-70,0),this._btn_mouseClick.on(Laya.Event.MOUSE_DOWN,this,function(){t.js_bird.wCharacter.character.jump(new Laya.Vector3(0,20,0))})},e.prototype.onHide=function(){},e}(n.Wmy_UiObj);a.UI_Game1=o},{"../_wmyUtilsH5/d3/WmyUtils3D":8,"../_wmyUtilsH5/ui/Wmy_UiObj":9,"../game/js_Bird":16}],18:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=t("../_wmyUtilsH5/ui/Wmy_UiObj"),r=t("../Main"),i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._isGame=!1,e}return __extends(e,t),e.prototype.del=function(){},e.prototype.onAwake=function(){this._dl=this.getChild("登录").asCom,this.btn_start=this._dl.getChild("btn_start").asButton,this.btn_start.onClick(this,this.onGame)},e.prototype.onShow=function(){},e.prototype.onHide=function(){},e.prototype.onGame=function(){null!=r.Main._this.u3dArr&&(this.btn_start.enabled=!1,this._dl.visible=!1,this._game1=fairygui.UIPackage.createObject("main","Game1"),this._game1.onGameGo(r.Main._this.scene3D),this.addChild(this._game1),this.btn_start.enabled=!0)},e}(n.Wmy_UiObj);a.UI_Main=i},{"../Main":1,"../_wmyUtilsH5/ui/Wmy_UiObj":9}]},{},[1]);