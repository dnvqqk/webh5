var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}();!function(){function e(t,a,n){function r(s,o){if(!a[s]){if(!t[s]){var l="function"==typeof require&&require;if(!o&&l)return l(s,!0);if(i)return i(s,!0);var _=new Error("Cannot find module '"+s+"'");throw _.code="MODULE_NOT_FOUND",_}var u=a[s]={exports:{}};t[s][0].call(u.exports,function(e){return r(t[s][1][e]||e)},u,u.exports,e,t,a,n)}return a[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}return e}()({1:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e("./_wmyUtilsH5/Wmy_Load_Mag"),r=e("./_wmyUtilsH5/wmyTween/WTweenManager"),i=e("./_wmyUtilsH5/WmyUtils"),s=e("./wmyU3dTs/WmyU3dTsMag"),o=e("./wmyMats/WmyMatMag"),l=function(){function e(){this._rootW=640,this._rootH=1136,e._this=this,Laya3D.init(this._rootW,this._rootH),Laya.Physics&&Laya.Physics.enable();i.WmyUtils.getThis.isPc()?Laya.stage.scaleMode=Laya.Stage.SCALE_SHOWALL:(Laya.stage.scaleMode=Laya.Stage.SCALE_FULL,Laya.stage.screenMode=Laya.Stage.SCREEN_VERTICAL),Laya.stage.frameRate=Laya.Stage.FRAME_FAST,Laya.stage.alignH="center",Laya.stage.alignV="middle",Laya.Stat.show(),Laya.alertGlobalError=!0,Laya.Shader3D.debugMode=!0;var t="";null!=window&&null!=window.wmyVTime&&(t=window.wmyVTime),Laya.ResourceVersion.enable("version.json"+t,Laya.Handler.create(this,this.onVersionLoaded),Laya.ResourceVersion.FILENAME_VERSION)}return e.prototype.onVersionLoaded=function(){var e=this;Laya.timer.frameLoop(1,this,this.RESIZE),n.Wmy_Load_Mag.getThis.onSetWetData("loadInfo",Laya.Handler.create(this,function(){n.Wmy_Load_Mag.getThis.onloadStr("load",new Laya.Handler(e,e.onLoadMain))}))},e.prototype.RESIZE=function(){var e=Laya.stage.width/this._rootW;Laya.stage.height,this._rootH;null!=this._uiScene&&(this._uiScene.scaleX=e,this._uiScene.scaleY=e),null!=this._uiScene&&(this._uiRoot.width=Laya.stage.width/e,this._uiRoot.height=Laya.stage.height/e),null!=this._LoadRoot&&(this._LoadRoot.width=this._uiRoot.width,this._LoadRoot.height=this._uiRoot.height),null!=this._mainView&&(this._mainView.width=this._uiRoot.width,this._mainView.height=this._uiRoot.height)},e.prototype.onLoadMain=function(){Laya.stage.addChild(fairygui.GRoot.inst.displayObject),this._uiScene=new fairygui.GComponent,fairygui.GRoot.inst.addChild(this._uiScene),this._uiRoot=new fairygui.GComponent,this._uiScene.addChild(this._uiRoot),this._LoadRoot=fairygui.UIPackage.createObject("load","LoadRoot").asCom,this._uiRoot.addChild(this._LoadRoot),this._LoadBox=this._LoadRoot.getChild("_LoadBox").asCom,this._bar=this._LoadBox.getChild("bar").asProgress,n.Wmy_Load_Mag.getThis.onAutoLoadAll(new Laya.Handler(this,this.onLoadOk),new Laya.Handler(this,this.onLoading))},e.prototype.onLoading=function(e){var t=r.WTweenManager.createTween();t.setTarget(this,Laya.Handler.create(this,this._onLoading,null,!1)),this._bar&&t._to(this._bar.value,e,.25)},e.prototype._onLoading=function(e,t){this._bar&&(this._bar.value=t)},e.prototype.onLoadOk=function(e,t){var a=t[0].urlList[0];this._scene3D=Laya.loader.getRes(a),r.WTweenManager.killTweens(this),this.onMain()},e.prototype.onMain=function(){this._mainView=fairygui.UIPackage.createObject("main","Main").asCom,null!=this._mainView&&this._uiRoot.addChildAt(this._mainView,0);this._mainView.getChild("_Main").asCom.getChild("d3Box").displayObject.addChild(this._scene3D),r.WTweenManager.killTweens(this),this._uiRoot.removeChild(this._LoadRoot),this._LoadRoot=null,this._bar=null,this._scene3D.addComponent(o.default),this._scene3D.addComponent(s.default)},e}();a.Main=l,new l},{"./_wmyUtilsH5/WmyUtils":2,"./_wmyUtilsH5/Wmy_Load_Mag":3,"./_wmyUtilsH5/wmyTween/WTweenManager":13,"./wmyMats/WmyMatMag":17,"./wmyU3dTs/WmyU3dTsMag":20}],2:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=function(e){function t(){var t=e.call(this)||this;return t._eventList=new Array,Laya.stage.on(laya.events.Event.MOUSE_DOWN,t,t.__onTouchDown),Laya.stage.on(laya.events.Event.MOUSE_UP,t,t.__onTouchUp),Laya.stage.on(laya.events.Event.MOUSE_MOVE,t,t.__OnMouseMOVE),Laya.stage.on(Laya.Event.RESIZE,t,t.__onResize),t}return __extends(t,e),Object.defineProperty(t,"getThis",{get:function(){return null==t._this&&(t._this=new t),t._this},enumerable:!0,configurable:!0}),t.prototype.convertColorToColorFiltersMatrix=function(e,a,n,r){return t.COLOR_FILTERS_MATRIX[0]=e,t.COLOR_FILTERS_MATRIX[6]=a,t.COLOR_FILTERS_MATRIX[12]=n,t.COLOR_FILTERS_MATRIX[18]=r||1,t.COLOR_FILTERS_MATRIX},t.prototype.applyColorFilters=function(e,t){e.filters=null,16777215!=t&&(e.filters=[new Laya.ColorFilter(this.convertColorToColorFiltersMatrix((t>>16&255)/255,(t>>8&255)/255,(255&t)/255))])},t.prototype.applyColorFilters1=function(e,t,a,n,r){e.filters=null,(t<1||a<1||n<1||r<1)&&(e.filters=[new Laya.ColorFilter(this.convertColorToColorFiltersMatrix(t,a,n,r))])},t.prototype.isPc=function(){return!(this.versions().android||this.versions().iPhone||this.versions().ios)&&(this.versions().iPad,!0)},t.prototype.versions=function(){var e=navigator.userAgent;navigator.appVersion;return{trident:e.indexOf("Trident")>-1,presto:e.indexOf("Presto")>-1,webKit:e.indexOf("AppleWebKit")>-1,gecko:e.indexOf("Gecko")>-1&&-1==e.indexOf("KHTML"),mobile:!!e.match(/AppleWebKit.*Mobile.*/)||!!e.match(/AppleWebKit/),ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:e.indexOf("Android")>-1||e.indexOf("Linux")>-1,iPhone:e.indexOf("iPhone")>-1||e.indexOf("Mac")>-1,iPad:e.indexOf("iPad")>-1,webApp:-1==e.indexOf("Safari")}},t.getUrlV=function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),a=window.location.search.substr(1).match(t);return a?decodeURIComponent(a[2]):null},t.prototype.onNavigate=function(e,t){void 0===t&&(t=!1),t?window.location.replace(e):window.location.href=e},t.prototype.__onTouchDown=function(e){this._eventList.indexOf(e)<0&&this._eventList.push(e)},t.prototype.__onTouchUp=function(e){this._eventList.indexOf(e)>=0&&this._eventList.splice(this._eventList.indexOf(e),1)},t.prototype.__onResize=function(){this._eventList.forEach(function(e){e.type=Laya.Event.MOUSE_UP,Laya.stage.event(Laya.Event.MOUSE_UP,e)}),this._eventList=new Array},t.prototype.__OnMouseMOVE=function(e){(e.stageX<=10||e.stageX>=Laya.stage.width-10||e.stageY<=10||e.stageY>=Laya.stage.height-10)&&(e.type=Laya.Event.MOUSE_UP,Laya.stage.event(Laya.Event.MOUSE_UP,e))},t.onNumTo=function(e,t){return void 0===t&&(t=2),(e+"").indexOf(".")>=0&&(e=parseFloat(e.toFixed(t))),e},t.getR_XY=function(e,t){var a=t*Math.PI/180,n=e*Math.cos(a),r=e*Math.sin(a);return new Laya.Point(n,r)},t.string2buffer=function(e){for(var t="",a=0;a<e.length;a++)""===t?t=e.charCodeAt(a).toString(16):t+=","+e.charCodeAt(a).toString(16);return new Uint8Array(t.match(/[\da-f]{2}/gi).map(function(e){return parseInt(e,16)})).buffer},t.replaceAll=function(e,t,a){var n="";return(n=e.replace(t,a)).indexOf(t)>=0&&(n=this.replaceAll(n,t,a)),n},t.toCase=function(e,t){void 0===t&&(t=!1);return t?e.toUpperCase():e.toLowerCase()},t.getDistance=function(e,t){var a=Math.abs(e.x-t.x),n=Math.abs(e.y-t.y),r=Math.sqrt(Math.pow(a,2)+Math.pow(n,2));return r=parseFloat(r.toFixed(2))},t.getXyToR=function(e,t){var a=Math.atan2(e,t),n=180/Math.PI*a;return n=this.onNumTo(n)},t.storage=function(e,t,a){void 0===t&&(t="?"),void 0===a&&(a=!0);var n=a?localStorage:sessionStorage;if("?"==t){return n.getItem(e)}return null!=t?(n.setItem(e,t),t):(n.removeItem(e),null)},t.playFuiSound=function(e,t,a,n,r){if(void 0===t&&(t=.2),void 0===n&&(n=0),void 0===r&&(r=1),!(t<=0)){var i=fairygui.UIPackage.getItemByURL(e).file;Laya.SoundManager.playSound(i,r,a,null,n),Laya.SoundManager.setSoundVolume(t,i)}},t.shallowCopy=function(e){if("object"==typeof e){var t=e instanceof Array?[]:{};for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a]);return t}},t.deepCopy=function(e){if("object"==typeof e){var t=e instanceof Array?[]:{};for(var a in e)e.hasOwnProperty(a)&&(t[a]="object"==typeof e[a]?this.deepCopy(e[a]):e[a]);return t}},t.COLOR_FILTERS_MATRIX=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0],t}(laya.events.EventDispatcher);a.WmyUtils=n},{}],3:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e("./WmyUtils"),r=e("./d3/WmyLoad3d"),i=e("./d3/WmyLoadMats"),s=function(){function e(){this._wetData={},this.dataName="",this._resDataArr=[],this._callbackOk=[],this._callbackProgress=[],this._isAutoLoadP=!1,this._isU3d=!1}return Object.defineProperty(e,"getThis",{get:function(){return null==e._this&&(e._this=new e),e._this},enumerable:!0,configurable:!0}),e.prototype.getResObj=function(e,t){var a;if(null==t&&(t=this.dataName),null==(a=this._wetData[t]))return console.warn("空数据"),null;var n=null;a instanceof Array&&(n=a);for(var r=null,i=0;i<n.length;i++){var s=n[i];if(s.resName==e){r=s;break}}return r},e.prototype.onSetWetData=function(e,t){null!=window[e]&&(this.dataName=e,this._wetData[e]=window[e],t.runWith([this._wetData[e]]))},e.prototype.onloadStr=function(e,t,a){var n=this.getResObj(e);null!=n?this.onload(n,t,a):console.warn("onloadStr-出错:",e)},e.prototype.onload=function(e,t,a){var r=e.resName;if(null!=this._resDataArr[r])this._resDataArr[r].runWith([this._resDataArr[r]]);else{if(null!=this._callbackOk[r])return this._callbackOk[r].push(t),null!=a&&this._callbackProgress[r].push(a),!0;var i=e.Resres,s={},o=e.resData;if(null!=o&&""!=o)try{s=JSON.parse(o)}catch(e){console.warn("加载材料数据错误",o)}for(var l,_=[],u=0;u<i.length;u++){var h=i[u].resUrl;if(null!=h){var c=h=n.WmyUtils.toCase(h);c.indexOf(".txt")>=0?(_.push({url:c,type:Laya.Loader.BUFFER}),l=h):c.indexOf(".jpg")>=0||c.indexOf(".png")>=0?_.push({url:c,type:Laya.Loader.IMAGE}):c.indexOf(".mp3")>=0||c.indexOf(".wav")>=0?_.push({url:c,type:Laya.Loader.SOUND}):_.push({url:c})}}if(_.length<=0)return!1;this._callbackOk[r]=[],this._callbackOk[r].push(t),this._callbackProgress[r]=[],null!=a&&this._callbackProgress[r].push(a),Laya.loader.load(_,Laya.Handler.create(this,this.onAssetConmplete,[r,l,s]),Laya.Handler.create(this,this.onAssetProgress,[r],!1))}return!0},e.prototype.onClear3dRes=function(e){Laya.Resource.destroyUnusedResources(),r.WmyLoad3d.getThis.clearRes(e)},e.prototype.onLoad3dOne=function(e,t,a){r.WmyLoad3d.onLoad3dOne(e,t,a)},e.prototype.onload3d=function(e,t,a){var n=e.resName;if(null!=this._resDataArr[n])this._resDataArr[n].runWith([this._resDataArr[n]]);else{if(null!=this._callbackOk[n])return this._callbackOk[n].push(t),null!=a&&this._callbackProgress[n].push(a),!0;var i=e.Resres,s={},o=e.resData;if(null!=o&&""!=o)try{s=JSON.parse(o)}catch(e){console.warn("加载材料数据错误",o)}for(var l=[],_=[],u=0;u<i.length;u++){var h=i[u].resUrl;if(null!=h){var c=h;(h.indexOf(".ls")>=0||h.indexOf(".lh")>=0)&&(l.push({url:c}),_.push(c))}}if(l.length<=0)return!1;this._callbackOk[n]=[],this._callbackOk[n].push(t),this._callbackProgress[n]=[],null!=a&&this._callbackProgress[n].push(a),s.urlList=_,r.WmyLoad3d.getThis.onload3d(l,Laya.Handler.create(this,this.onAssetConmplete,[n,void 0,s]),Laya.Handler.create(this,this.onAssetProgress,[n],!1))}return!0},e.prototype.onAssetProgress=function(e,t){for(var a=this._callbackProgress[e],n=0;n<a.length;n++){a[n].runWith([t])}},e.prototype.onAssetConmplete=function(e,t,a){var n=this._callbackOk[e];if(null!=t){var r=Laya.loader.getRes(t),i=t.replace(".txt","");try{fairygui.UIPackage.addPackage(i,r)}catch(e){console.warn("FUI-出错:",i)}var s=i.split("/");a.bName=s[s.length-1],this._resDataArr[e]=a}for(var o=0;o<n.length;o++){var l=n[o];null!=l&&l.runWith([a])}this._callbackOk[e]=null,this._callbackProgress[e]=null},e.prototype.onAutoLoadAll=function(e,t){var a=this._wetData[this.dataName];if(null==a)return console.warn("空数据"),null;var n=null;if(a instanceof Array&&(n=a),null==n)try{n=JSON.parse(a)}catch(e){return console.warn("材料数据错误",a),null}this._autoLoadrCallbackOk=e,this._autoLoadrCallbackProgress=t,this._autoLoadInfoArr={},this._autoLoadInfoArr.num=0,this._autoLoadInfoArr.cNum=0,this._autoLoadInfoArr.uiArr=[],this._autoLoadInfoArr.u3dArr=[];for(var r=0;r<n.length;r++){var i=n[r],s=i.resName,o=i.type;null!=s&&""!=s&&null!=o&&""!=o&&this.onAutoLoadObj(o,s)}this._isAutoLoadP=!0},e.prototype.onAutoLoadObj=function(e,t){var a=this,n=this.getResObj(t);if(null!=n){var r=this._autoLoadInfoArr.num;this._autoLoadInfoArr[r]={},this._autoLoadInfoArr[r].n=t,this._autoLoadInfoArr[r].t=e;var s=!1;if("ui"==e&&(s=this.onload(n,new Laya.Handler(this,this.onLoadOk,[r]),new Laya.Handler(this,this.onLoading,[r])),this._autoLoadInfoArr.num+=1,s||(console.warn("ui-出错:",t),Laya.timer.once(100,null,function(e){a.onLoadOk(e)},[r]))),"u3d"==e&&(s=this.onload3d(n,new Laya.Handler(this,this.onLoadOk,[r]),new Laya.Handler(this,this.onLoading,[r])),this._autoLoadInfoArr.num+=1,this._isU3d=!0,s||(console.warn("u3d-出错:",t),Laya.timer.once(100,null,function(e){a.onLoadOk(e)},[r]))),"mats"==e){for(var o=n.Resres,l=[],_=0;_<o.length;_++){u=(h=o[_]).resUrl;if(null!=(u=Laya.ResourceVersion.addVersionPrefix(u))){c=u;l.push(c)}}l.length>0&&(i.WmyLoadMats.getThis.onload3d(l,new Laya.Handler(this,this.onLoadOk,[r]),new Laya.Handler(this,this.onLoading,[r])),s=!0),this._autoLoadInfoArr.num+=1,s||(console.warn("mats-出错:",t),Laya.timer.once(100,null,function(e){a.onLoadOk(e)},[r]))}if("cubeMap"==e)for(var o=n.Resres,_=0;_<o.length;_++){var u,h=o[_],c=u=h.resUrl;Laya.TextureCube.load(c,null)}"audio"==e&&(s=this.onload(n,new Laya.Handler(this,this.onLoadOk,[r]),new Laya.Handler(this,this.onLoading,[r])),this._autoLoadInfoArr.num+=1,s||(console.warn("audio-出错:",t),Laya.timer.once(100,null,function(e){a.onLoadOk(e)},[r])))}},e.prototype.getCube=function(e,t){var a=this.getResObj(e);if(null!=a){for(var n=a.Resres,r=[],i=0;i<n.length;i++){var s=n[i].resUrl,o=s=Laya.ResourceVersion.addVersionPrefix(s);Laya.TextureCube.load(o,new Laya.Handler(this,function(e){r[i]=e,t.runWith([e,i])}))}return r}},e.prototype.onLoading=function(e,t){var a=0;if(this._isAutoLoadP){this._autoLoadInfoArr[e].p=t;for(var n=this._autoLoadInfoArr.num,r=0,i=1/n,s=0,o=0,l=0;l<n;l++){var _=this._autoLoadInfoArr[l],u=_.p;null!=u&&(this._isU3d?("u3d"==_.t?o=u*(i*(l+1))*.8:s=u*(i*(l+1))*.2,r=s+o):r=u*(i*(l+1)))}a=100*r,isNaN(a)&&(a=0),a>1&&null!=this._autoLoadrCallbackProgress&&this._autoLoadrCallbackProgress.runWith([a])}else null!=this._autoLoadrCallbackProgress&&this._autoLoadrCallbackProgress.runWith([a])},e.prototype.onLoadOk=function(e,t){this._autoLoadInfoArr.cNum+=1,"ui"==this._autoLoadInfoArr[e].t?this._autoLoadInfoArr.uiArr.push(t):"u3d"==this._autoLoadInfoArr[e].t&&this._autoLoadInfoArr.u3dArr.push(t),this._autoLoadInfoArr.cNum>=this._autoLoadInfoArr.num&&null!=this._autoLoadrCallbackOk&&this._autoLoadrCallbackOk.runWith([this._autoLoadInfoArr.uiArr,this._autoLoadInfoArr.u3dArr])},e}();a.Wmy_Load_Mag=s},{"./WmyUtils":2,"./d3/WmyLoad3d":4,"./d3/WmyLoadMats":5}],4:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e("./WmyUtils3D"),r=function(){function e(){this._mNum=0,this._pNum=0}return Object.defineProperty(e,"getThis",{get:function(){return null==e._this&&(e._this=new e),e._this},enumerable:!0,configurable:!0}),e.prototype.onload3d=function(e,t,a,n){this._urlList=[],this._callbackOk=t,this._callbackProgress=a;for(var r=0;r<e.length;r++){var i=e[r].url;i=Laya.ResourceVersion.addVersionPrefix(i),this._urlList.push(i),this._onload3d(i)}},e.onLoad3dOne=function(t,a,n){(new e).__onload3dOne(t,a,n)},e.prototype.__onload3dOne=function(e,t,a){this._urlList=[],this._callbackOk=t,this._callbackProgress=a,e=Laya.ResourceVersion.addVersionPrefix(e),this._urlList.push(e),this._onload3d(e)},e.prototype._onload3d=function(e){Laya.loader.clearRes(e),Laya.loader._createLoad(e);Laya.LoaderManager._resMap[e].once(Laya.Event.COMPLETE,this,this.__onlsUrlOk,[e])},e.prototype.__onlsUrlOk=function(e,t){var a=e.split("/"),n=e.replace(a[a.length-1],""),r=JSON.parse(t);this._mArr=[],this.__tiQuUrl(r.data,n);for(var i=0;i<this._mArr.length;i++)e=this._mArr[i],Laya.loader.create(e,Laya.Handler.create(this,this.__onLoadOk))},e.prototype.__onLoadOk=function(){var e=this;this._mNum+=1,this._pNum=this._mNum/this._mArr.length,this.__onLoadP(null),this._mNum>=this._mArr.length&&Laya.loader.create(this._urlList,Laya.Handler.create(this,function(){null!=e._callbackOk&&e._callbackOk.run(),e._urlList=null,e._callbackOk=null,e._callbackProgress=null,e._mArr=null}),Laya.Handler.create(this,this.__onLoadP))},e.prototype.__onLoadP=function(e){var t=.7*this._pNum;e&&(t+=.25*e),null!=this._callbackProgress&&this._callbackProgress.runWith([t])},e.prototype.__tiQuUrl=function(e,t){if(void 0===t&&(t=""),null!=e.props&&null!=e.props.meshPath){var a=t+e.props.meshPath;this._mArr.indexOf(a)<0&&this._mArr.push(a);var n=e.props.materials;if(null!=n)for(var r=0;r<n.length;r++){var i=t+n[r].path;this._mArr.indexOf(i)<0&&this._mArr.push(i)}}if(null!=e.components){var s=e.components;if(s.length>0)for(var o=0;o<s.length;o++){var l=s[o];if(null!=l.avatar){var _=t+l.avatar.path;this._mArr.indexOf(_)<0&&this._mArr.push(_)}if(null!=l.layers)for(var u=l.layers,h=0;h<u.length;h++)for(var c=u[h].states,d=0;d<c.length;d++){var p=t+c[d].clipPath;this._mArr.indexOf(p)<0&&this._mArr.push(p)}}}var f=e.child;if(null!=f&&f.length>0)for(var y=0;y<f.length;y++)this.__tiQuUrl(f[y],t)},e.prototype.clearRes=function(e){if(e&&!(e.indexOf("/")<0)){var t=e.split("/"),a=e.replace(t[t.length-1],""),n=[];for(var r in Laya.Loader.loadedMap)if(Laya.Loader.loadedMap.hasOwnProperty(r)){var i=r;(i.indexOf(a)>=0||i.indexOf("res/mats/")>=0)&&n.indexOf(i)<0&&n.push(i)}for(var s=0;s<n.length;s++){var o=n[s];try{var l=Laya.loader.getRes(o);l.lock||(l.destroy(),l.releaseResource(!0))}catch(e){}try{Laya.loader.clearRes(o)}catch(e){}}}},e.idResourcesMapLock=function(t,a){if(void 0===a&&(a=!0),null!=t){var r=n.WmyUtils3D.getChildrenComponent(t,Laya.RenderableSprite3D),i=[];for(var s in r){var o=r[s];e._loopLock(o,i)}var l=Laya.Resource._idResourcesMap;for(var _ in i){l[i[_]].lock=a}}},e._loopLock=function(t,a){e._Mesh(t,a),e._Materials(t,a);for(var n in t){var r=t[n];r instanceof Laya.BaseRender&&e._loopLock(r,a)}},e._Mesh=function(t,a){for(var n in t){var r=t[n];if(r instanceof Laya.Mesh){e._getResourcesMapId(r,a);var i=r._vertexBuffers;if(i)for(var s in i){var o=i[s];o instanceof Laya.VertexBuffer3D&&e._getResourcesMapId(o,a)}for(var l in r){var _=r[l];_ instanceof Laya.IndexBuffer3D&&e._getResourcesMapId(_,a)}}}},e._Materials=function(t,a){var n=t._materials;if(n)for(var r in n){var i=n[r];i instanceof Laya.BaseMaterial&&(e._getResourcesMapId(i,a),e._Shader(i,a),e._ShaderData(i,a))}},e._Shader=function(t,a){for(var n in t){var r=t[n];r instanceof Laya.Shader3D&&e._getResourcesMapId(r,a)}},e._ShaderData=function(t,a){for(var n in t){var r=t[n];r instanceof Laya.ShaderData&&e._BaseTexture(r._data,a)}},e._BaseTexture=function(t,a){for(var n in t){var r=t[n];r instanceof Laya.BaseTexture&&e._getResourcesMapId(r,a)}},e._getResourcesMapId=function(e,t){var a=Laya.Resource._idResourcesMap;for(var n in a){e==a[n]&&t.indexOf(n)<0&&t.push(n)}},e}();a.WmyLoad3d=r},{"./WmyUtils3D":7}],5:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function e(){this._matsUrlArr=[],this._matOk=!1,this._matNum=0,this._matP=0,this._matP2=0}return Object.defineProperty(e,"getThis",{get:function(){return null==e._this&&(e._this=new e),e._this},enumerable:!0,configurable:!0}),e.prototype.onload3d=function(e,t,a){this._callbackOk=t,this._callbackProgress=a,Laya.loader.load(e,Laya.Handler.create(this,this.__onUrlArrOk,[e]))},e.prototype.__onUrlArrOk=function(e){for(_=0;_<e.length;_++){var t=e[_],a=Laya.loader.getRes(t),n=t.split("/"),r=t.replace(n[n.length-1],""),i=[];try{i=a.mats}catch(e){}for(var s=0;s<i.length;s++){var o=i[s];if(""!=o.targetName){var l=r+o.matUrl;this._matsUrlArr.push(l)}}}for(var _=0;_<this._matsUrlArr.length;_++)t=this._matsUrlArr[_],Laya.loader.create(t,Laya.Handler.create(this,this.__onMatArrOk),Laya.Handler.create(this,this.__onMatArrP))},e.prototype.__onMatArrP=function(e){var t=e*(this._matNum+1);t>this._matP&&(this._matP=t),this._matP2=this._matP/this._matsUrlArr.length,null!=this._callbackProgress&&this._callbackProgress.runWith([this._matP2])},e.prototype.__onMatArrOk=function(){this._matNum+=1,this._matNum>=this._matsUrlArr.length&&null!=this._callbackOk&&this._callbackOk.run()},e}();a.WmyLoadMats=n},{}],6:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e("./WmyUtils3D"),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.del=function(e){void 0===e&&(e=!0),this.owner3D.destroy(e)},t.prototype.onDestroy=function(){this.owner3D=null,this.scene3D=null,this.onDel()},t.prototype.onDel=function(){},t.prototype._onAdded=function(){e.prototype._onAdded.call(this),this.owner3D=this.owner,this._localScale=new Laya.Vector3(0,0,0),this.owner3D.transform&&(this._localScale=this.owner3D.transform.localScale.clone()),this.scene3D=this.owner3D.scene},t.prototype.setShow=function(e){this.owner3D.transform.localScale=e?this._localScale:new Laya.Vector3(0,0,0)},t.prototype.getObj3dUrl=function(e,t){return n.WmyUtils3D.getObj3dUrl(e,t)},t.prototype.onSetShadow=function(e,t){n.WmyUtils3D.onSetShadow(this.owner3D,e,t)},t}(Laya.Script3D);a.WmyScript3D=r},{"./WmyUtils3D":7}],7:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function e(){}return e.getObj3d=function(e,t){if(null==e)return null;if(e.name==t)return e;for(var a=0;a<e._children.length;a++){var n=e._children[a];if(n._children.length<=0){if(n.name==t)return n}else{var r=this.getObj3d(n,t);if(null!=r)return r}}return null},e.getObj3dUrl=function(e,t){var a=t.split("/");return this._getObjArrUrl(e,a)},e._getObjArrUrl=function(e,t,a){void 0===a&&(a=0);var n=e;if(null==n)return null;var r=t[a],i=n.getChildByName(r);return null==i?null:a>=t.length-1?i:i=this._getObjArrUrl(i,t,++a)},e.getChildrenComponent=function(e,t,a){if(null==a&&(a=[]),null==e)return a;var n=e.getComponent(t);if(null==n&&e instanceof t&&(n=e),null!=n&&a.indexOf(n)<0&&a.push(n),null==e._children)return a;for(var r=0;r<e._children.length;r++){var i=e._children[r];this.getChildrenComponent(i,t,a)}return a},e.instantiate=function(t,a){if(null==t)return null;var n=null;if(a){var r=e.getObj3d(t,a);r&&(n=Laya.Sprite3D.instantiate(r))}else n=Laya.Sprite3D.instantiate(t);return n},e.onSetDirectionLight=function(e,t,a,n,r){void 0===t&&(t=512),void 0===a&&(a=1),void 0===n&&(n=15),void 0===r&&(r=!0),e instanceof Laya.DirectionLight&&(e.shadow=r,e.shadowDistance=n,e.shadowResolution=t,e.shadowPSSMCount=1,e.shadowPCFType=a)},e.onCastShadow=function(e,t,a,n){if(void 0===t&&(t=0),void 0===a&&(a=!0),void 0===n&&(n=!0),e instanceof Laya.MeshSprite3D){var r=e;0==t?r.meshRenderer.receiveShadow=a:1==t?r.meshRenderer.castShadow=a:2==t&&(r.meshRenderer.receiveShadow=a,r.meshRenderer.castShadow=a)}if(e instanceof Laya.SkinnedMeshSprite3D){var i=e;0==t?i.skinnedMeshRenderer.receiveShadow=a:1==t&&(i.skinnedMeshRenderer.castShadow=a)}if(n)for(var s=0;s<e.numChildren;s++){var o=e.getChildAt(s);this.onCastShadow(o,t,a)}},e.onSetShadow=function(e,t,a){e instanceof Laya.MeshSprite3D?(e.meshRenderer.castShadow=t,e.meshRenderer.receiveShadow=a):e instanceof Laya.SkinnedMeshSprite3D&&(e.skinnedMeshRenderer.castShadow=t,e.skinnedMeshRenderer.receiveShadow=a)},e.rgb2hex=function(e,t,a){return("#"+this.hex(e)+this.hex(t)+this.hex(a)).toUpperCase()},e.hex=function(e){return e=this.onNumTo(e),("0"+parseInt(e).toString(16)).slice(-2)},e.hex2rgb=function(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,a,n){return t+t+a+a+n+n});var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},e.onNumTo=function(e){return(e+"").indexOf(".")>=0&&(e=parseFloat(e.toFixed(2))),e},e.lerpF=function(e,t,a){return e+(t-e)*a},e.getRayCastAll=function(e,t,a,n,r){var i=new Array,s=a;s||(s=new Laya.Ray(new Laya.Vector3,new Laya.Vector3));var o=t.clone();return e.viewportPointToRay(o,s),null!=e.scene&&null!=e.scene.physicsSimulation&&e.scene.physicsSimulation.rayCastAll(s,i,1e4,n,r),i},e.Distance=function(e,t){var a=Math.abs(e.x-t.x),n=Math.abs(e.y-t.y),r=Math.sqrt(Math.pow(a,2)+Math.pow(n,2));return r=parseFloat(r.toFixed(2))},e.aniPlay=function(t,a,n,r,i,s,o){var l=t;if(null!=a&&(l=this.getObj3d(t,a)),null==l)return null;var _=l.getComponent(Laya.Animator);return null==_?null:(i&&e.aniAddEventFun(l,null,n,-1,i,!0,s,o),_.play(n,o,r),_)},e.aniAddEventFun=function(t,a,n,i,s,o,l,_){void 0===o&&(o=!0);var u=t;if(null!=a&&(u=this.getObj3d(t,a)),null==u)return null;var h=u.getComponent(Laya.Animator);if(null==h)return null;e._aniAddEvent(h,null,n,"_wmy_ani_callback",i,l,_);var c=u.getComponent(r);c||(c=u.addComponent(r));var d="wmy_"+s.caller.id+n+i;o?Laya.stage.once(d,this,function(e,t,a){t.runWith(a),c.delCallback(e)},[d,s]):Laya.stage.on(d,this,function(e,t,a){t.runWith(a)},[d,s]),c.addCallback(d)},e.aniDelEventFun=function(e,t,a){var n=e;if(null!=t&&(n=this.getObj3d(e,t)),null==n)return null;if(null==n.getComponent(Laya.Animator))return null;var i=n.getComponent(r);if(i){var s="wmy_"+a.caller.name+a.method.toString();Laya.stage.on(s,a.caller,a.method),i.delCallback(s)}},e._aniAddEvent=function(e,t,a,n,r,i,s){var o=null,l=null;if(e instanceof Laya.Sprite3D){if(o=e,null!=t&&(o=this.getObj3d(e,t)),null==o)return null;l=o.getComponent(Laya.Animator)}else e instanceof Laya.Animator&&(l=e);if(null==l)return null;var _=l.getControllerLayer(s)._statesMap[a];if(null==_)return null;var u=!0,h=_._clip._events;for(var c in h)if(h.hasOwnProperty(c)){if(h[c].eventName==n&&d.time){u=!1;break}}if(u){var d=new Laya.AnimationEvent;d.eventName=n;var p=_._clip._duration;-1==r&&(r=p),d.time=r/p,d.params=i,_._clip.addEvent(d)}return l},e.aniAddScript=function(e,t,a,n,r){var i=e;if(null!=t&&(i=this.getObj3d(e,t)),null==i)return null;var s=i.getComponent(Laya.Animator);if(null==s)return null;var o=s.getControllerLayer(r)._statesMap[a];return null==o?null:(o.addScript(n),o)},e}();a.WmyUtils3D=n;var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._callback=[],t}return __extends(t,e),t.prototype.addCallback=function(e){this._callback.indexOf(e)<0&&this._callback.push(e)},t.prototype.delCallback=function(e){var t=this._callback.indexOf(e);t>=0&&this._callback.splice(t,1)},t.prototype._wmy_ani_callback=function(e){for(var t=0;t<this._callback.length;t++){var a=this._callback[t];Laya.stage.event(a,e)}},t}(Laya.Script3D)},{}],8:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onAwake=function(){if(this._anir=this.owner3D.getComponent(Laya.Animator),null!=this._anir){for(var e=this._anir._renderableSprites,t=0;t<e.length;t++){for(var a=null,n=e[t],r=0;r<n.numChildren;r++){var i=n.getChildAt(t);if(i.name.indexOf("Vetex_Handle")>=0){a=i;break}}null!=a&&(this._verticesObj=a)}null!=this._verticesObj?this.onInitVertex():this.enabled=!1}else this.enabled=!1},t.prototype.onInitVertex=function(){if(this._mesh=this._verticesObj.parent.meshFilter,this._mesh){if(this._verticesObj.numChildren>0){this._vertexArray=[];for(e=0;e<this._verticesObj.numChildren;e++)this._vertexArray[e]=this._verticesObj.getChildAt(e).transform}if(this._vertexArray){this._vertexBuffers=this._mesh.sharedMesh._vertexBuffers,this._vertexBuffers=this._vertexBuffers.concat(),this._mesh.sharedMesh._vertexBuffers=this._vertexBuffers,this._mCacheVerticesArr=this._mesh.sharedMesh._getPositions(),this._mMappingVetexInfoArr=[];for(var e=0;e<this._vertexArray.length;e++){var t=this._vertexArray[e];this._mMappingVetexInfoArr[e]={},this._mMappingVetexInfoArr[e].TransformInfo=t;for(var a=[],n=0;n<this._mCacheVerticesArr.length;n++){var r=this._mCacheVerticesArr[n];Laya.Vector3.distance(r,t.localPosition)<=.01&&a.push(n)}this._mMappingVetexInfoArr[e].VetexIDArr=a}}else this.enabled=!1}else this.enabled=!1},t.prototype.onLateUpdate=function(){if(0!=this._anir.speed){if(!this._anir.getCurrentAnimatorPlayState()._finish){for(var e=0;e<this._mMappingVetexInfoArr.length;e++)for(var t=this._mMappingVetexInfoArr[e],a=0;a<t.VetexIDArr.length;a++){var n=t.VetexIDArr[a],r=t.TransformInfo.localPosition;this._mCacheVerticesArr[n]=r}this._vertexs_setPositions(this._vertexBuffers,this._mCacheVerticesArr)}}},t.prototype._vertexs_getPositions=function(e){var t,a,n,r,i,s=[],o=0,l=0,_=0,u=e.length;for(o=0;o<u;o++){for(n=(t=e[o]).vertexDeclaration.vertexElements,l=0;l<n.length;l++)if("vector3"===(r=n[l]).elementFormat&&0===r.elementUsage){a=r;break}for(i=t.getData(),l=0;l<i.length;l+=t.vertexDeclaration.vertexStride/4)_=l+a.offset/4,s.push(new Laya.Vector3(i[_+0],i[_+1],i[_+2]))}return s},t.prototype._vertexs_setPositions=function(e,t){var a,n,r,i,s,o,l=0,_=0,u=0,h=e.length;for(l=0;l<h;l++){for(r=(a=e[l]).vertexDeclaration.vertexElements,_=0;_<r.length;_++)if("vector3"===(i=r[_]).elementFormat&&0===i.elementUsage){n=i;break}s=a.getData();var c=0;for(_=0;_<s.length;_+=a.vertexDeclaration.vertexStride/4)o=t[c],s[(u=_+n.offset/4)+0]=o.x,s[u+1]=o.y,s[u+2]=o.z,c++;a.setData(s)}},t.prototype.onGetWorldPos=function(e,t){var a=new Laya.Vector3;if(null!=e._parent){var n=e.parent.transform.position;Laya.Vector3.multiply(t,e.parent.transform.scale,Laya.Transform3D._tempVector30),Laya.Vector3.transformQuat(Laya.Transform3D._tempVector30,e.parent.transform.rotation,Laya.Transform3D._tempVector30),Laya.Vector3.add(n,Laya.Transform3D._tempVector30,a)}else t.cloneTo(a);return a},t}(e("../WmyScript3D").WmyScript3D);a.default=n},{"../WmyScript3D":6}],9:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.speedV3=new Laya.Vector3,t.gravity=new Laya.Vector3,t.isLockMove=!1,t}return __extends(t,e),t.prototype.onDel=function(){null!=this.character&&(this.character.destroy(),this.character=null)},Object.defineProperty(t.prototype,"isGrounded",{get:function(){return null!=this.character&&this.character.isGrounded},enumerable:!0,configurable:!0}),t.prototype.onStart=function(){},t.prototype.onInit=function(e,t,a,n,r,i){this.character=this.owner3D.addComponent(Laya.CharacterController);var s=new Laya.CapsuleColliderShape(e,t,a);s.localOffset=new Laya.Vector3(n,r,i),this.character.colliderShape=s,this.character.gravity=this.gravity},t.prototype.onUpdate=function(){this.character.gravity=this.gravity,this.character.move(this.speedV3)},t.prototype.move=function(e,t){var a=this;void 0===t&&(t=0),this.isLockMove=!0,this.character.move(e),Laya.timer.once(1e3*t,this,function(){a.isLockMove=!1})},t.prototype._updatePhysicsTransform=function(){this.character._derivePhysicsTransformation(!0)},t}(e("../WmyScript3D").WmyScript3D);a.default=n},{"../WmyScript3D":6}],10:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e("./WEaseType"),r=function(){function e(){}return e.evaluate=function(t,a,r,s,o){switch(t){case n.WEaseType.Linear:return a/r;case n.WEaseType.SineIn:return 1-Math.cos(a/r*e._PiOver2);case n.WEaseType.SineOut:return Math.sin(a/r*e._PiOver2);case n.WEaseType.SineInOut:return-.5*(Math.cos(Math.PI*a/r)-1);case n.WEaseType.QuadIn:return(a/=r)*a;case n.WEaseType.QuadOut:return-(a/=r)*(a-2);case n.WEaseType.QuadInOut:return(a/=.5*r)<1?.5*a*a:-.5*(--a*(a-2)-1);case n.WEaseType.CubicIn:return(a/=r)*a*a;case n.WEaseType.CubicOut:return(a=a/r-1)*a*a+1;case n.WEaseType.CubicInOut:return(a/=.5*r)<1?.5*a*a*a:.5*((a-=2)*a*a+2);case n.WEaseType.QuartIn:return(a/=r)*a*a*a;case n.WEaseType.QuartOut:return-((a=a/r-1)*a*a*a-1);case n.WEaseType.QuartInOut:return(a/=.5*r)<1?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2);case n.WEaseType.QuintIn:return(a/=r)*a*a*a*a;case n.WEaseType.QuintOut:return(a=a/r-1)*a*a*a*a+1;case n.WEaseType.QuintInOut:return(a/=.5*r)<1?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2);case n.WEaseType.ExpoIn:return 0==a?0:Math.pow(2,10*(a/r-1));case n.WEaseType.ExpoOut:return a==r?1:1-Math.pow(2,-10*a/r);case n.WEaseType.ExpoInOut:return 0==a?0:a==r?1:(a/=.5*r)<1?.5*Math.pow(2,10*(a-1)):.5*(2-Math.pow(2,-10*--a));case n.WEaseType.CircIn:return-(Math.sqrt(1-(a/=r)*a)-1);case n.WEaseType.CircOut:return Math.sqrt(1-(a=a/r-1)*a);case n.WEaseType.CircInOut:return(a/=.5*r)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1);case n.WEaseType.ElasticIn:var l;return 0==a?0:1==(a/=r)?1:(0==o&&(o=.3*r),s<1?(s=1,l=o/4):l=o/e._TwoPi*Math.asin(1/s),-s*Math.pow(2,10*(a-=1))*Math.sin((a*r-l)*e._TwoPi/o));case n.WEaseType.ElasticOut:var _;return 0==a?0:1==(a/=r)?1:(0==o&&(o=.3*r),s<1?(s=1,_=o/4):_=o/e._TwoPi*Math.asin(1/s),s*Math.pow(2,-10*a)*Math.sin((a*r-_)*e._TwoPi/o)+1);case n.WEaseType.ElasticInOut:var u;return 0==a?0:2==(a/=.5*r)?1:(0==o&&(o=r*(.3*1.5)),s<1?(s=1,u=o/4):u=o/e._TwoPi*Math.asin(1/s),a<1?s*Math.pow(2,10*(a-=1))*Math.sin((a*r-u)*e._TwoPi/o)*-.5:s*Math.pow(2,-10*(a-=1))*Math.sin((a*r-u)*e._TwoPi/o)*.5+1);case n.WEaseType.BackIn:return(a/=r)*a*((s+1)*a-s);case n.WEaseType.BackOut:return(a=a/r-1)*a*((s+1)*a+s)+1;case n.WEaseType.BackInOut:return(a/=.5*r)<1?a*a*((1+(s*=1.525))*a-s)*.5:.5*((a-=2)*a*((1+(s*=1.525))*a+s)+2);case n.WEaseType.BounceIn:return i.easeIn(a,r);case n.WEaseType.BounceOut:return i.easeOut(a,r);case n.WEaseType.BounceInOut:return i.easeInOut(a,r);default:return-(a/=r)*(a-2)}},e._PiOver2=.5*Math.PI,e._TwoPi=2*Math.PI,e}();a.WEaseManager=r;var i=function(){function e(){}return e.easeIn=function(t,a){return 1-e.easeOut(a-t,a)},e.easeOut=function(e,t){return(e/=t)<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},e.easeInOut=function(t,a){return t<.5*a?.5*e.easeIn(2*t,a):.5*e.easeOut(2*t-a,a)+.5},e}();a.Bounce=i},{"./WEaseType":11}],11:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function e(){}return e.Linear=0,e.SineIn=1,e.SineOut=2,e.SineInOut=3,e.QuadIn=4,e.QuadOut=5,e.QuadInOut=6,e.CubicIn=7,e.CubicOut=8,e.CubicInOut=9,e.QuartIn=10,e.QuartOut=11,e.QuartInOut=12,e.QuintIn=13,e.QuintOut=14,e.QuintInOut=15,e.ExpoIn=16,e.ExpoOut=17,e.ExpoInOut=18,e.CircIn=19,e.CircOut=20,e.CircInOut=21,e.ElasticIn=22,e.ElasticOut=23,e.ElasticInOut=24,e.BackIn=25,e.BackOut=26,e.BackInOut=27,e.BounceIn=28,e.BounceOut=29,e.BounceInOut=30,e.Custom=31,e}();a.WEaseType=n},{}],12:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e("./WTweenManager"),r=function(){function e(){}return e.to=function(e,t,a){return n.WTweenManager.createTween()._to(e,t,a)},e.to2=function(e,t,a,r,i){return n.WTweenManager.createTween()._to2(e,t,a,r,i)},e.to3=function(e,t,a,r,i,s,o){return n.WTweenManager.createTween()._to3(e,t,a,r,i,s,o)},e.to4=function(e,t,a,r,i,s,o,l,_){return n.WTweenManager.createTween()._to4(e,t,a,r,i,s,o,l,_)},e.toColor=function(e,t,a){return n.WTweenManager.createTween()._toColor(e,t,a)},e.delayedCall=function(e){return n.WTweenManager.createTween().setDelay(e)},e.shake=function(e,t,a,r){return n.WTweenManager.createTween()._shake(e,t,a,r)},e.isTweening=function(e,t){return n.WTweenManager.isTweening(e,t)},e.kill=function(e,t,a){void 0===t&&(t=!1),void 0===a&&(a=null),n.WTweenManager.killTweens(e,!1,null)},e.getTween=function(e,t){return void 0===t&&(t=null),n.WTweenManager.getTween(e,t)},e.catchCallbackExceptions=!0,e}();a.WTween=r},{"./WTweenManager":13}],13:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e("./WTweener"),r=function(){function e(){}return e.createTween=function(){e._inited||(Laya.timer.frameLoop(1,null,this.update),e._inited=!0);var t;return(t=e._tweenerPool.length>0?e._tweenerPool.pop():new n.WTweener)._init(),e._activeTweens[e._totalActiveTweens++]=t,e._totalActiveTweens==e._activeTweens.length&&(e._activeTweens.length=e._activeTweens.length+Math.ceil(.5*e._activeTweens.length)),t},e.isTweening=function(t,a){if(null==t)return!1;for(var n=null==a,r=0;r<e._totalActiveTweens;r++){var i=e._activeTweens[r];if(null!=i&&i.target==t&&!i._killed&&(n||i._propType==a))return!0}return!1},e.killTweens=function(t,a,n){if(void 0===a&&(a=!1),void 0===n&&(n=null),null==t)return!1;for(var r=!1,i=e._totalActiveTweens,s=null==n,o=0;o<i;o++){var l=e._activeTweens[o];null==l||l.target!=t||l._killed||!s&&l._propType!=n||(l.kill(a),r=!0)}return r},e.getTween=function(t,a){if(null==t)return null;for(var n=e._totalActiveTweens,r=null==a,i=0;i<n;i++){var s=e._activeTweens[i];if(null!=s&&s.target==t&&!s._killed&&(r||s._propType==a))return s}return null},e.update=function(){for(var t=Laya.timer.delta/1e3,a=e._totalActiveTweens,n=-1,r=0;r<a;r++){var i=e._activeTweens[r];null==i?(-1==n&&(n=r),0):i._killed?(i._reset(),e._tweenerPool.push(i),e._activeTweens[r]=null,-1==n&&(n=r),0):(i._paused||i._update(t),-1!=n&&(e._activeTweens[n]=i,e._activeTweens[r]=null,n++))}if(n>=0){if(e._totalActiveTweens!=a){var s=a;for(a=e._totalActiveTweens-a,r=0;r<a;r++)e._activeTweens[n++]=e._activeTweens[s++]}e._totalActiveTweens=n}},e._activeTweens=new Array(30),e._tweenerPool=[],e._totalActiveTweens=0,e._inited=!1,e}();a.WTweenManager=r},{"./WTweener":15}],14:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function e(){this.x=this.y=this.z=this.w=0}return Object.defineProperty(e.prototype,"color",{get:function(){return(this.w<<24)+(this.x<<16)+(this.y<<8)+this.z},set:function(e){this.x=(16711680&e)>>16,this.y=(65280&e)>>8,this.z=255&e,this.w=(4278190080&e)>>24},enumerable:!0,configurable:!0}),e.prototype.getField=function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("Index out of bounds: "+e)}},e.prototype.setField=function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("Index out of bounds: "+e)}},e.prototype.setZero=function(){this.x=this.y=this.z=this.w=0},e}();a.WTweenValue=n},{}],15:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e("./WTweenValue"),r=e("./WEaseType"),i=e("./WTween"),s=e("./WEaseManager"),o=function(){function e(){this._startValue=new n.WTweenValue,this._endValue=new n.WTweenValue,this._value=new n.WTweenValue,this._deltaValue=new n.WTweenValue,this._reset()}return e.prototype.setDelay=function(e){return this._delay=e,this},Object.defineProperty(e.prototype,"delay",{get:function(){return this._delay},enumerable:!0,configurable:!0}),e.prototype.setDuration=function(e){return this._duration=e,this},Object.defineProperty(e.prototype,"duration",{get:function(){return this._duration},enumerable:!0,configurable:!0}),e.prototype.setBreakpoint=function(e){return this._breakpoint=e,this},e.prototype.setEase=function(e){return this._easeType=e,this},e.prototype.setEasePeriod=function(e){return this._easePeriod=e,this},e.prototype.setEaseOvershootOrAmplitude=function(e){return this._easeOvershootOrAmplitude=e,this},e.prototype.setRepeat=function(e,t){return void 0===t&&(t=!1),this._repeat=this.repeat,this._yoyo=t,this},Object.defineProperty(e.prototype,"repeat",{get:function(){return this._repeat},enumerable:!0,configurable:!0}),e.prototype.setTimeScale=function(e){return this._timeScale=e,this},e.prototype.setSnapping=function(e){return this._snapping=e,this},e.prototype.setTarget=function(e,t){return void 0===t&&(t=null),this._target=this.value,this._propType=t,this},Object.defineProperty(e.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),e.prototype.setUserData=function(e){return this._userData=this.value,this},Object.defineProperty(e.prototype,"userData",{get:function(){return this._userData},enumerable:!0,configurable:!0}),e.prototype.onUpdate=function(e,t){return this._onUpdate=e,this._onUpdateCaller=t,this},e.prototype.onStart=function(e,t){return this._onStart=e,this._onStartCaller=t,this},e.prototype.onComplete=function(e,t){return this._onComplete=e,this._onCompleteCaller=t,this},Object.defineProperty(e.prototype,"startValue",{get:function(){return this._startValue},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endValue",{get:function(){return this._endValue},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"deltaValue",{get:function(){return this._deltaValue},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"normalizedTime",{get:function(){return this._normalizedTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"completed",{get:function(){return 0!=this._ended},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allCompleted",{get:function(){return 1==this._ended},enumerable:!0,configurable:!0}),e.prototype.setPaused=function(e){return this._paused=e,this},e.prototype.seek=function(e){if(!this._killed){if(this._elapsedTime=e,this._elapsedTime<this._delay){if(!this._started)return;this._elapsedTime=this._delay}this.update()}},e.prototype.kill=function(e){void 0===e&&(e=!1),this._killed||(e&&(0==this._ended&&(this._breakpoint>=0?this._elapsedTime=this._delay+this._breakpoint:this._repeat>=0?this._elapsedTime=this._delay+this._duration*(this._repeat+1):this._elapsedTime=this._delay+2*this._duration,this.update()),this.callCompleteCallback()),this._killed=!0)},e.prototype._to=function(e,t,a){return this._valueSize=1,this._startValue.x=e,this._endValue.x=t,this._duration=a,this},e.prototype._to2=function(e,t,a,n,r){return this._valueSize=2,this._startValue.x=e,this._endValue.x=a,this._startValue.y=t,this._endValue.y=n,this._duration=r,this},e.prototype._to3=function(e,t,a,n,r,i,s){return this._valueSize=3,this._startValue.x=e,this._endValue.x=n,this._startValue.y=t,this._endValue.y=r,this._startValue.z=a,this._endValue.z=i,this._duration=s,this},e.prototype._to4=function(e,t,a,n,r,i,s,o,l){return this._valueSize=4,this._startValue.x=e,this._endValue.x=r,this._startValue.y=t,this._endValue.y=i,this._startValue.z=a,this._endValue.z=s,this._startValue.w=n,this._endValue.w=o,this._duration=l,this},e.prototype._toColor=function(e,t,a){return this._valueSize=4,this._startValue.color=e,this._endValue.color=t,this._duration=a,this},e.prototype._shake=function(e,t,a,n){return this._valueSize=5,this._startValue.x=e,this._startValue.y=t,this._startValue.w=a,this._duration=n,this._easeType=r.WEaseType.Linear,this},e.prototype._init=function(){this._delay=0,this._duration=0,this._breakpoint=-1,this._easeType=r.WEaseType.QuadOut,this._timeScale=1,this._easePeriod=0,this._easeOvershootOrAmplitude=1.70158,this._snapping=!1,this._repeat=0,this._yoyo=!1,this._valueSize=0,this._started=!1,this._paused=!1,this._killed=!1,this._elapsedTime=0,this._normalizedTime=0,this._ended=0},e.prototype._reset=function(){this._target=null,this._userData=null,this._onStart=this._onUpdate=this._onComplete=null,this._onStartCaller=this._onUpdateCaller=this._onCompleteCaller=null},e.prototype._update=function(e){if(1!=this._timeScale&&(e*=this._timeScale),0!=e){if(0!=this._ended)return this.callCompleteCallback(),void(this._killed=!0);this._elapsedTime+=e,this.update(),0!=this._ended&&(this._killed||(this.callCompleteCallback(),this._killed=!0))}},e.prototype.update=function(e){if(null!=e){if(1!=this._timeScale&&(e*=this._timeScale),0==e)return;this._elapsedTime+=e}this._ended=0;var t=this._duration;if(0!=this._valueSize){if(!this._started){if(this._elapsedTime<this._delay)return;if(this._started=!0,this.callStartCallback(),this._killed)return}var a=!1,n=this._elapsedTime-this._delay;if(this._breakpoint>=0&&n>=this._breakpoint&&(n=this._breakpoint,this._ended=2),0!=this._repeat){var r=Math.floor(n/t);n-=t*r,this._yoyo&&(a=r%2==1),this._repeat>0&&this._repeat-r<0&&(this._yoyo&&(a=this._repeat%2==1),n=t,this._ended=1)}else n>=t&&(n=t,this._ended=1);if(this._normalizedTime=s.WEaseManager.evaluate(this._easeType,a?t-n:n,t,this._easeOvershootOrAmplitude,this._easePeriod),this._value.setZero(),this._deltaValue.setZero(),5==this._valueSize)if(0==this._ended){var i=this._startValue.w*(1-this._normalizedTime),o=(2*Math.random()-1)*i,l=(2*Math.random()-1)*i;o=o>0?Math.ceil(o):Math.floor(o),l=l>0?Math.ceil(l):Math.floor(l),this._deltaValue.x=o,this._deltaValue.y=l,this._value.x=this._startValue.x+o,this._value.y=this._startValue.y+l}else this._value.x=this._startValue.x,this._value.y=this._startValue.y;else for(var _=0;_<this._valueSize;_++){var u=this._startValue.getField(_),h=u+(this._endValue.getField(_)-u)*this._normalizedTime;this._snapping&&(h=Math.round(h)),this._deltaValue.setField(_,h-this._value.getField(_)),this._value.setField(_,h)}if(null!=this._target&&null!=this._propType)if(this._propType instanceof Function)switch(this._valueSize){case 1:this._propType.call(this._target,this._value.x);break;case 2:this._propType.call(this._target,this._value.x,this._value.y);break;case 3:this._propType.call(this._target,this._value.x,this._value.y,this._value.z);break;case 4:this._propType.call(this._target,this._value.x,this._value.y,this._value.z,this._value.w);break;case 5:this._propType.call(this._target,this._value.color);break;case 6:this._propType.call(this._target,this._value.x,this._value.y)}else if(this._propType instanceof Laya.Handler){var c=[];switch(this._valueSize){case 1:c=[this._target,this._value.x];break;case 2:c=[this._target,this._value.x,this._value.y];break;case 3:c=[this._target,this._value.x,this._value.y,this._value.z];break;case 4:c=[this._target,this._value.x,this._value.y,this._value.z,this._value.w];break;case 5:c=[this._target,this._value.color];break;case 6:c=[this._target,this._value.x,this._value.y]}this._propType.runWith(c)}else 5==this._valueSize?this._target[this._propType]=this._value.color:this._target[this._propType]=this._value.x;this.callUpdateCallback()}else this._elapsedTime>=this._delay+t&&(this._ended=1)},e.prototype.callStartCallback=function(){if(null!=this._onStart)if(i.WTween.catchCallbackExceptions)try{this._onStart.call(this._onStartCaller,this)}catch(e){console.log("FairyGUI: error in start callback > "+e.message)}else this._onStart.call(this._onStartCaller,this)},e.prototype.callUpdateCallback=function(){if(null!=this._onUpdate)if(i.WTween.catchCallbackExceptions)try{this._onUpdate.call(this._onUpdateCaller,this)}catch(e){console.log("FairyGUI: error in this.update callback > "+e.message)}else this._onUpdate.call(this._onUpdateCaller,this)},e.prototype.callCompleteCallback=function(){if(null!=this._onComplete)if(i.WTween.catchCallbackExceptions)try{this._onComplete.call(this._onCompleteCaller,this)}catch(e){console.log("FairyGUI: error in complete callback > "+e.message)}else this._onComplete.call(this._onCompleteCaller,this)},e}();a.WTweener=o},{"./WEaseManager":10,"./WEaseType":11,"./WTween":12,"./WTweenValue":14}],16:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function e(){}return e.matConfig=[{c_matName:"dao_1",initData:{shaderName:"wmyLaya_wmyLbt",_AlbedoIntensity:"1",_AlphaBlend:"0",_AlphaTest:"0",_Cull:"2",_Cutoff:"0.01",_DstBlend:"0",_Gloss:"30",_IsVertexColor:"0",_Lighting:"0",_Mode:"0",_RenderQueue:"2000",_Shininess:"0.078125",_SpecularSource:"0",_SrcBlend:"1",_ZTest:"4",_ZWrite:"1",_Color:"1,1,1,1",_SpecColor:"0.5,0.5,0.5,1",_Specular:"0.2647059,0.2647059,0.2647059,1",_wColor:"1,0.76838225,0.6691177,1"},targetUrlArr:[{url:"scene/1_C2U_主场景/8_C2U_changj/49_C2U_岛1/50_C2U_dao_1",matId:0}]}],e}();a.default=n},{}],17:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e("../_wmyUtilsH5/d3/WmyScript3D"),r=e("./WmyMatConfig"),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onAwake=function(){for(var e=0;e<r.default.matConfig.length;e++){var t=r.default.matConfig[e];this.addMat(t)}},t.prototype.addMat=function(e){if(null!=e){var a=e.c_matName;console.log(a);for(var n=e.initData,r=e.targetUrlArr,i=0;i<r.length;i++){var s=r[i].url,o=r[i].matId,l=t.getObj3dUrl(this.scene3D,s);null!=l&&this.setMaterial(l,n,o)}}},t.prototype.setMaterial=function(e,t,a,n,r){if(void 0===a&&(a=0),null==e)return null;if(void 0==n&&(n=t.shaderName),void 0==n)return null;var i=Laya.Shader3D.find(n);if(null!=i){var s,o;if(e instanceof Laya.SkinnedMeshSprite3D){if(null==(s=e.skinnedMeshRenderer))return null;o=s.materials[a]}else{if(null==(s=e.meshRenderer))return null;o=s.materials[a]}if(null==o)return console.log("没有sharedMaterial:",e,n),null;r&&(o=o.clone(),s.materials[a]=o),o._shader=i;var l=i.w_vsPsArr;if(l)for(var _=0;_<l.length;_++){var u=l[_][2];for(var h in u)if(u.hasOwnProperty(h)){o.hasOwnProperty(h)&&(o[h]=u[h]);var c=o.getRenderState(_);c.hasOwnProperty(h)&&(c[h]=u[h])}}if(null!=i.w_uniformMap)for(var h in i.w_uniformMap)if(i.w_uniformMap.hasOwnProperty(h)){var d=i.w_uniformMap[h][0],p=t[h];if(null!=p)if(4==(p=p.split(",")).length)o._shaderValues.setVector(d,new Laya.Vector4(parseFloat(p[0]),parseFloat(p[1]),parseFloat(p[2]),parseFloat(p[3])));else if(3==p.length)o._shaderValues.setVector(d,new Laya.Vector3(parseFloat(p[0]),parseFloat(p[1]),parseFloat(p[2])));else if(2==p.length)o._shaderValues.setVector(d,new Laya.Vector2(parseFloat(p[0]),parseFloat(p[1])));else if(1==p.length)if(isNaN(parseFloat(p[0]))){if("tex"==p[0]+""){var f=t["TEX@"+h];if(null!=f){var y=f.path;Laya.loader.load(y,Laya.Handler.create(this,function(e,t){null==t&&(t=new Laya.Texture2D(0,0,0,!0)),o._shaderValues.setTexture(e,t)},[d]))}}}else o._shaderValues.setNumber(d,parseFloat(p[0]))}return o}},t.Sprite3D_ShaderValues=function(e,a,n,r){for(var i=t.getChildrenComponent(e,Laya.RenderableSprite3D),s=0;s<i.length;s++){var o=i[s];t.RenderableSprite3D_ShaderValues(o,a,n,r)}},t.RenderableSprite3D_ShaderValues=function(e,t,a,n){null==n&&(n=-1);var r=e.meshRenderer;if(null==r&&(r=e.skinnedMeshRenderer),!r)return!1;var i=r.sharedMaterials;if(i.length<=0)return!1;for(var s=!(n<0),o=!0,l=0;l<i.length;l++){var _=i[l],u=_._shader._uniformMap[t];if(u&&(!s||n==l))try{var h=u[0];if(a instanceof Boolean)_._shaderValues.setBool(h,a);else if(isNaN(a))a instanceof Laya.BaseVector?_._shaderValues.setVector(h,a):a instanceof Laya.Quaternion?_._shaderValues.setQuaternion(h,a):a instanceof Laya.Matrix4x4?_._shaderValues.setMatrix4x4(h,a):a instanceof Laya.Texture?_._shaderValues.setTexture(h,a):o=!1;else{(a+"").indexOf(".")<0?_._shaderValues.setInt(h,a):_._shaderValues.setNumber(h,a)}}catch(e){o=!1}}return o},t.onInstanceName=function(e){var t=null;try{for(var a=[],n=1;n<arguments.length;n++)a[n-1]=arguments[n];(t=Object.create(window[e].prototype)).constructor.apply(t,a)}catch(e){}return t},t.getObjectClass=function(e){if(e&&e.constructor&&e.constructor.toString()){if(e.constructor.name)return e.constructor.name;var t=e.constructor.toString();if("["==t.charAt(0))a=t.match(/\[\w+\s*(\w+)\]/);else var a=t.match(/function\s*(\w+)/);if(a&&2==a.length)return a[1]}},t.getChildrenComponent=function(e,t,a){if(null==a&&(a=[]),null==e)return a;var n=e.getComponent(t);if(null==n&&e instanceof t&&(n=e),null!=n&&a.indexOf(n)<0&&a.push(n),null==e._children)return a;for(var r=0;r<e._children.length;r++){var i=e._children[r];this.getChildrenComponent(i,t,a)}return a},t.getObj3dUrl=function(e,t){var a=t.split("/");return this._getObjArrUrl(e,a)},t._getObjArrUrl=function(e,t,a){void 0===a&&(a=0);var n=e;if(null==n)return null;var r=t[a],i=n.getChildByName(r);return null==i?null:a>=t.length-1?i:i=this._getObjArrUrl(i,t,++a)},t}(n.WmyScript3D);a.default=i},{"../_wmyUtilsH5/d3/WmyScript3D":6,"./WmyMatConfig":16}],18:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function t(){}return t.getClass=function(e){return this[e]},t.Ts_Scene=e("./ts/Ts_Scene").default,t.Ts_DLight=e("./ts/Ts_DLight").default,t.Ts_C4DVetexAnimator=e("./ts/Ts_C4DVetexAnimator").default,t.Ts_Mats=e("./ts/Ts_Mats").default,t.WmyC4DVetexAnimator=e("../_wmyUtilsH5/d3/c4d/WmyC4DVetexAnimator").default,t.WmyPhysics_Character=e("../_wmyUtilsH5/d3/physics/WmyPhysicsWorld_Character").default,t.Animator=Laya.Animator,t}();a.default=n},{"../_wmyUtilsH5/d3/c4d/WmyC4DVetexAnimator":8,"../_wmyUtilsH5/d3/physics/WmyPhysicsWorld_Character":9,"./ts/Ts_C4DVetexAnimator":21,"./ts/Ts_DLight":22,"./ts/Ts_Mats":23,"./ts/Ts_Scene":24}],19:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function e(){}return e.tsConfig=[{c_ts:"Ts_Mats",targetUrlArr:[{url:"scene/1_C2U_主场景/8_C2U_changj/49_C2U_岛1/50_C2U_dao_1",initData:{isCastShadow:"False",isReceiveShadow:"True"}},{url:"scene/1_C2U_主场景/8_C2U_changj/49_C2U_岛1/52_C2U_城市_01/173_C2U_1_xiaolu/175_C2U_ludeng/177_C2U_ludeng",initData:{isCastShadow:"True",isReceiveShadow:"False"}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/39_C2U_平面1_19/wmyVetex_malu/1_C2U_malu",initData:{isCastShadow:"True",isReceiveShadow:"False"}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/33_C2U_平面1_13/wmyVetex_malu/1_C2U_malu",initData:{isCastShadow:"True",isReceiveShadow:"False"}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/26_C2U_平面1_6/wmyVetex_malu/1_C2U_malu",initData:{isCastShadow:"True",isReceiveShadow:"False"}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/28_C2U_平面1_8/wmyVetex_malu/1_C2U_malu",initData:{isCastShadow:"True",isReceiveShadow:"False"}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/42_C2U_平面1_22/wmyVetex_malu/1_C2U_malu",initData:{isCastShadow:"True",isReceiveShadow:"False"}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/46_C2U_平面1_26/wmyVetex_malu/1_C2U_malu",initData:{isCastShadow:"True",isReceiveShadow:"False"}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/37_C2U_平面1_17/wmyVetex_malu/1_C2U_malu",initData:{isCastShadow:"True",isReceiveShadow:"False"}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/20_C2U_平面1/wmyVetex_malu/1_C2U_malu",initData:{isCastShadow:"True",isReceiveShadow:"False"}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/32_C2U_平面1_12/wmyVetex_malu/1_C2U_malu",initData:{isCastShadow:"True",isReceiveShadow:"False"}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/38_C2U_平面1_18/wmyVetex_malu/1_C2U_malu",initData:{isCastShadow:"True",isReceiveShadow:"False"}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/22_C2U_平面1_2/wmyVetex_malu/1_C2U_malu",initData:{isCastShadow:"True",isReceiveShadow:"False"}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/44_C2U_平面1_24/wmyVetex_malu/1_C2U_malu",initData:{isCastShadow:"True",isReceiveShadow:"False"}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/23_C2U_平面1_3/wmyVetex_malu/1_C2U_malu",initData:{isCastShadow:"True",isReceiveShadow:"False"}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/34_C2U_平面1_14/wmyVetex_malu/1_C2U_malu",initData:{isCastShadow:"True",isReceiveShadow:"False"}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/21_C2U_平面1_1/wmyVetex_malu/1_C2U_malu",initData:{isCastShadow:"True",isReceiveShadow:"False"}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/47_C2U_平面1_27/wmyVetex_malu/1_C2U_malu",initData:{isCastShadow:"True",isReceiveShadow:"False"}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/31_C2U_平面1_11/wmyVetex_malu/1_C2U_malu",initData:{isCastShadow:"True",isReceiveShadow:"False"}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/45_C2U_平面1_25/wmyVetex_malu/1_C2U_malu",initData:{isCastShadow:"True",isReceiveShadow:"False"}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/35_C2U_平面1_15/wmyVetex_malu/1_C2U_malu",initData:{isCastShadow:"True",isReceiveShadow:"False"}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/48_C2U_平面1_28/wmyVetex_malu/1_C2U_malu",initData:{isCastShadow:"True",isReceiveShadow:"False"}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/24_C2U_平面1_4/wmyVetex_malu/1_C2U_malu",initData:{isCastShadow:"True",isReceiveShadow:"False"}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/30_C2U_平面1_10/wmyVetex_malu/1_C2U_malu",initData:{isCastShadow:"True",isReceiveShadow:"False"}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/40_C2U_平面1_20/wmyVetex_malu/1_C2U_malu",initData:{isCastShadow:"True",isReceiveShadow:"False"}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/27_C2U_平面1_7/wmyVetex_malu/1_C2U_malu",initData:{isCastShadow:"True",isReceiveShadow:"False"}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/41_C2U_平面1_21/wmyVetex_malu/1_C2U_malu",initData:{isCastShadow:"True",isReceiveShadow:"False"}},{url:"scene/1_C2U_主场景/8_C2U_changj/49_C2U_岛1/52_C2U_城市_01/173_C2U_1_xiaolu/186_C2U_shu/187_C2U_shu_2_8",initData:{isCastShadow:"True",isReceiveShadow:"False"}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/43_C2U_平面1_23/wmyVetex_malu/1_C2U_malu",initData:{isCastShadow:"True",isReceiveShadow:"False"}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/25_C2U_平面1_5/wmyVetex_malu/1_C2U_malu",initData:{isCastShadow:"True",isReceiveShadow:"False"}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/29_C2U_平面1_9/wmyVetex_malu/1_C2U_malu",initData:{isCastShadow:"True",isReceiveShadow:"False"}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/36_C2U_平面1_16/wmyVetex_malu/1_C2U_malu",initData:{isCastShadow:"True",isReceiveShadow:"False"}},{url:"scene/1_C2U_主场景/8_C2U_changj/49_C2U_岛1/220_C2U_山/224_C2U_shan_4",initData:{isCastShadow:"True",isReceiveShadow:"False"}},{url:"scene/1_C2U_主场景/8_C2U_changj/49_C2U_岛1/220_C2U_山/222_C2U_shan_1",initData:{isCastShadow:"True",isReceiveShadow:"False"}},{url:"scene/1_C2U_主场景/8_C2U_changj/49_C2U_岛1/220_C2U_山/223_C2U_shan_3",initData:{isCastShadow:"True",isReceiveShadow:"False"}},{url:"scene/1_C2U_主场景/8_C2U_changj/49_C2U_岛1/220_C2U_山/221_C2U_shan_2_1",initData:{isCastShadow:"True",isReceiveShadow:"False"}},{url:"scene/1_C2U_主场景/8_C2U_changj/49_C2U_岛1/52_C2U_城市_01/173_C2U_1_xiaolu/215_C2U_nianfen/216_C2U_2018_1",initData:{isCastShadow:"True",isReceiveShadow:"False"}},{url:"scene/1_C2U_主场景/8_C2U_changj/49_C2U_岛1/52_C2U_城市_01/173_C2U_1_xiaolu/215_C2U_nianfen/217_C2U_2017_1",initData:{isCastShadow:"True",isReceiveShadow:"False"}},{url:"scene/1_C2U_主场景/8_C2U_changj/49_C2U_岛1/52_C2U_城市_01/173_C2U_1_xiaolu/215_C2U_nianfen/218_C2U_2016_1",initData:{isCastShadow:"True",isReceiveShadow:"False"}},{url:"scene/1_C2U_主场景/8_C2U_changj/49_C2U_岛1/52_C2U_城市_01/173_C2U_1_xiaolu/215_C2U_nianfen/219_C2U_2015_1",initData:{isCastShadow:"True",isReceiveShadow:"False"}}]},{c_ts:"Ts_C4DVetexAnimator",targetUrlArr:[{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/36_C2U_平面1_16/wmyVetex_malu",initData:{}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/29_C2U_平面1_9/wmyVetex_malu",initData:{}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/25_C2U_平面1_5/wmyVetex_malu",initData:{}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/43_C2U_平面1_23/wmyVetex_malu",initData:{}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/41_C2U_平面1_21/wmyVetex_malu",initData:{}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/27_C2U_平面1_7/wmyVetex_malu",initData:{}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/40_C2U_平面1_20/wmyVetex_malu",initData:{}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/30_C2U_平面1_10/wmyVetex_malu",initData:{}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/24_C2U_平面1_4/wmyVetex_malu",initData:{}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/48_C2U_平面1_28/wmyVetex_malu",initData:{}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/35_C2U_平面1_15/wmyVetex_malu",initData:{}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/45_C2U_平面1_25/wmyVetex_malu",initData:{}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/31_C2U_平面1_11/wmyVetex_malu",initData:{}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/47_C2U_平面1_27/wmyVetex_malu",initData:{}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/21_C2U_平面1_1/wmyVetex_malu",initData:{}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/34_C2U_平面1_14/wmyVetex_malu",initData:{}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/23_C2U_平面1_3/wmyVetex_malu",initData:{}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/44_C2U_平面1_24/wmyVetex_malu",initData:{}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/22_C2U_平面1_2/wmyVetex_malu",initData:{}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/38_C2U_平面1_18/wmyVetex_malu",initData:{}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/32_C2U_平面1_12/wmyVetex_malu",initData:{}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/20_C2U_平面1/wmyVetex_malu",initData:{}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/37_C2U_平面1_17/wmyVetex_malu",initData:{}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/46_C2U_平面1_26/wmyVetex_malu",initData:{}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/42_C2U_平面1_22/wmyVetex_malu",initData:{}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/28_C2U_平面1_8/wmyVetex_malu",initData:{}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/26_C2U_平面1_6/wmyVetex_malu",initData:{}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/33_C2U_平面1_13/wmyVetex_malu",initData:{}},{url:"scene/1_C2U_主场景/8_C2U_changj/18_C2U_路/19_C2U_malu/39_C2U_平面1_19/wmyVetex_malu",initData:{}}]},{c_ts:"Ts_DLight",targetUrlArr:[{url:"Directional light",initData:{cameraUrl:"scene/1_C2U_主场景/4_C2U_轨迹动画/5_C2U_shexiangji/6_C2U_摄像机",isCastShadow:"True"}}]},{c_ts:"Ts_Scene",targetUrlArr:[{url:"scene",initData:{}}]}],e}();a.default=n},{}],20:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e("../_wmyUtilsH5/d3/WmyScript3D"),r=e("./WmyU3dTsConfig"),i=e("./WmyU3dImport"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onAwake=function(){for(var e=0;e<r.default.tsConfig.length;e++){var t=r.default.tsConfig[e];this.addTs(t)}},t.prototype.addTs=function(e){if(null!=e){var a=e.c_ts,n=i.default.getClass(a),r=e.targetUrlArr;if(r&&n)for(var s=0;s<r.length;s++){var o=r[s],l=o.url,_=t.getObj3dUrl(this.scene3D,l);if(null!=_){var u=_.addComponent(n),h=o.initData;for(var c in h)if(u.hasOwnProperty(c)){var d=h[c];isNaN(d)?d.indexOf("True")>=0?d=!0:d.indexOf("False")>=0&&(d=!1):d=d.indexOf(".")>=0?parseFloat(d):parseInt(d),u[c]=d}}}}},t.getObj3dUrl=function(e,t){var a=t.split("/");return this._getObjArrUrl(e,a)},t._getObjArrUrl=function(e,t,a){void 0===a&&(a=0);var n=e;if(null==n)return null;var r=t[a],i=n.getChildByName(r);return null==i?null:a>=t.length-1?i:i=this._getObjArrUrl(i,t,++a)},t}(n.WmyScript3D);a.default=s},{"../_wmyUtilsH5/d3/WmyScript3D":6,"./WmyU3dImport":18,"./WmyU3dTsConfig":19}],21:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e("../WmyU3dImport"),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._initPlay=!1,t}return __extends(t,e),t.prototype.onAwake=function(){this._c4dVetexAnimator=this.owner3D.getComponent(n.default.getClass("WmyC4DVetexAnimator")),null==this._c4dVetexAnimator&&(this._c4dVetexAnimator=this.owner3D.addComponent(n.default.getClass("WmyC4DVetexAnimator"))),this._anir=this.owner3D.getComponent(n.default.getClass("Animator")),null!=this._anir&&(this._initPlay=!1,this._anir.speed=0,this.setShow(!1))},t.prototype.onPreRender=function(){if(!this._initPlay){var e=this.owner3D.parent;(e.transform.localScale.x>.01||e.transform.localScale.y>.01||e.transform.localScale.z>.01)&&(this._initPlay=!0,this.setShow(!0),this._anir.speed=1)}},t}(e("../../_wmyUtilsH5/d3/WmyScript3D").WmyScript3D);a.default=r},{"../../_wmyUtilsH5/d3/WmyScript3D":6,"../WmyU3dImport":18}],22:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cameraUrl="",t.isCastShadow=!1,t}return __extends(t,e),t.prototype.onStart=function(){this.camera=this.getObj3dUrl(this.scene3D,this.cameraUrl),this.directionLight=this.owner,this.directionLight.shadow=this.isCastShadow,this.directionLight.shadowResolution=1400},t.prototype.onUpdate=function(){try{this.directionLight.shadowDistance=this.camera.transform.position.y}catch(e){}},t}(e("../../_wmyUtilsH5/d3/WmyScript3D").WmyScript3D);a.default=n},{"../../_wmyUtilsH5/d3/WmyScript3D":6}],23:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isCastShadow=!1,t.isReceiveShadow=!1,t}return __extends(t,e),t.prototype.onStart=function(){this.onSetShadow(this.isCastShadow,this.isReceiveShadow)},t}(e("../../_wmyUtilsH5/d3/WmyScript3D").WmyScript3D);a.default=n},{"../../_wmyUtilsH5/d3/WmyScript3D":6}],24:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e("../WmyU3dImport"),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onStart=function(){this._anir=this.owner3D.getComponent(n.default.getClass("Animator")),null!=this._anir&&(this._anir.speed=1)},t}(e("../../_wmyUtilsH5/d3/WmyScript3D").WmyScript3D);a.default=r},{"../../_wmyUtilsH5/d3/WmyScript3D":6,"../WmyU3dImport":18}]},{},[1]);