var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a])};return function(e,a){function r(){this.constructor=e}t(e,a),e.prototype=null===a?Object.create(a):(r.prototype=a.prototype,new r)}}();!function(){function t(e,a,r){function n(o,s){if(!a[o]){if(!e[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(i)return i(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var h=a[o]={exports:{}};e[o][0].call(h.exports,function(t){return n(e[o][1][t]||t)},h,h.exports,t,e,a,r)}return a[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)n(r[o]);return n}return t}()({1:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=t("./_wmyUtilsH5/Wmy_Load_Mag"),n=t("./_wmyUtilsH5/wmyTween/WTweenManager"),i=t("./_wmyUtilsH5/WmyUtils"),o=t("./wmyU3dTs/WmyU3dTsMag"),s=function(){function t(){this._rootW=640,this._rootH=1136,t._this=this,Laya3D.init(this._rootW,this._rootH),Laya.Physics&&Laya.Physics.enable();i.WmyUtils.getThis.isPc()?Laya.stage.scaleMode=Laya.Stage.SCALE_SHOWALL:(Laya.stage.scaleMode=Laya.Stage.SCALE_FULL,Laya.stage.screenMode=Laya.Stage.SCREEN_VERTICAL),Laya.stage.frameRate=Laya.Stage.FRAME_FAST,Laya.stage.alignH="center",Laya.stage.alignV="middle",Laya.Stat.show(),Laya.Shader3D.debugMode=!0;var e="";null!=window&&null!=window.wmyVTime&&(e=window.wmyVTime),Laya.ResourceVersion.enable("version.json"+e,Laya.Handler.create(this,this.onVersionLoaded),Laya.ResourceVersion.FILENAME_VERSION)}return t.prototype.onVersionLoaded=function(){var t=this;Laya.timer.frameLoop(1,this,this.RESIZE),r.Wmy_Load_Mag.getThis.onLoadWetData("res/loadInfo.json",Laya.Handler.create(this,function(){r.Wmy_Load_Mag.getThis.onloadStr("load",new Laya.Handler(t,t.onLoadMain))}))},t.prototype.RESIZE=function(){var t=Laya.stage.width/this._rootW;Laya.stage.height,this._rootH;null!=this._uiScene&&(this._uiScene.scaleX=t,this._uiScene.scaleY=t),null!=this._uiScene&&(this._uiRoot.width=Laya.stage.width/t,this._uiRoot.height=Laya.stage.height/t),null!=this._LoadRoot&&(this._LoadRoot.width=this._uiRoot.width,this._LoadRoot.height=this._uiRoot.height),null!=this._mainView&&(this._mainView.width=this._uiRoot.width,this._mainView.height=this._uiRoot.height)},t.prototype.onLoadMain=function(){Laya.stage.addChild(fairygui.GRoot.inst.displayObject),this._uiScene=new fairygui.GComponent,fairygui.GRoot.inst.addChild(this._uiScene),this._uiRoot=new fairygui.GComponent,this._uiScene.addChild(this._uiRoot),this._LoadRoot=fairygui.UIPackage.createObject("load","LoadRoot").asCom,this._uiRoot.addChild(this._LoadRoot),this._LoadBox=this._LoadRoot.getChild("_LoadBox").asCom,this._bar=this._LoadBox.getChild("bar").asProgress,r.Wmy_Load_Mag.getThis.onAutoLoadAll(new Laya.Handler(this,this.onLoadOk),new Laya.Handler(this,this.onLoading))},t.prototype.onLoading=function(t){var e=n.WTweenManager.createTween();e.setTarget(this,Laya.Handler.create(this,this._onLoading,null,!1)),this._bar&&e._to(this._bar.value,t,.25)},t.prototype._onLoading=function(t,e){this._bar&&(this._bar.value=e)},t.prototype.onLoadOk=function(t,e){var a=e[0].urlList[0];this._scene3D=Laya.loader.getRes(a);window._WmyShader;this._scene3D.addComponent(o.default),n.WTweenManager.killTweens(this);n.WTweenManager.createTween().setTarget(this,Laya.Handler.create(this,this._onLoading,null,!1))._to(this._bar.value,100,1).onComplete(this.onMain,this)},t.prototype.onMain=function(){this._mainView=fairygui.UIPackage.createObject("main","Main").asCom,null!=this._mainView&&this._uiRoot.addChildAt(this._mainView,0);this._mainView.getChild("_Main").asCom.getChild("d3Box").displayObject.addChild(this._scene3D),n.WTweenManager.killTweens(this),this._uiRoot.removeChild(this._LoadRoot),this._LoadRoot=null,this._bar=null},t}();a.Main=s,new s},{"./_wmyUtilsH5/WmyUtils":2,"./_wmyUtilsH5/Wmy_Load_Mag":3,"./_wmyUtilsH5/wmyTween/WTweenManager":12,"./wmyU3dTs/WmyU3dTsMag":17}],2:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=function(t){function e(){var e=t.call(this)||this;return e._eventList=new Array,Laya.stage.on(laya.events.Event.MOUSE_DOWN,e,e.__onTouchDown),Laya.stage.on(laya.events.Event.MOUSE_UP,e,e.__onTouchUp),Laya.stage.on(laya.events.Event.MOUSE_MOVE,e,e.__OnMouseMOVE),Laya.stage.on(Laya.Event.RESIZE,e,e.__onResize),e}return __extends(e,t),Object.defineProperty(e,"getThis",{get:function(){return null==e._this&&(e._this=new e),e._this},enumerable:!0,configurable:!0}),e.prototype.convertColorToColorFiltersMatrix=function(t,a,r,n){return e.COLOR_FILTERS_MATRIX[0]=t,e.COLOR_FILTERS_MATRIX[6]=a,e.COLOR_FILTERS_MATRIX[12]=r,e.COLOR_FILTERS_MATRIX[18]=n||1,e.COLOR_FILTERS_MATRIX},e.prototype.applyColorFilters=function(t,e){t.filters=null,16777215!=e&&(t.filters=[new Laya.ColorFilter(this.convertColorToColorFiltersMatrix((e>>16&255)/255,(e>>8&255)/255,(255&e)/255))])},e.prototype.applyColorFilters1=function(t,e,a,r,n){t.filters=null,(e<1||a<1||r<1||n<1)&&(t.filters=[new Laya.ColorFilter(this.convertColorToColorFiltersMatrix(e,a,r,n))])},e.prototype.isPc=function(){return!(this.versions().android||this.versions().iPhone||this.versions().ios)&&(this.versions().iPad,!0)},e.prototype.versions=function(){var t=navigator.userAgent;navigator.appVersion;return{trident:t.indexOf("Trident")>-1,presto:t.indexOf("Presto")>-1,webKit:t.indexOf("AppleWebKit")>-1,gecko:t.indexOf("Gecko")>-1&&-1==t.indexOf("KHTML"),mobile:!!t.match(/AppleWebKit.*Mobile.*/)||!!t.match(/AppleWebKit/),ios:!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:t.indexOf("Android")>-1||t.indexOf("Linux")>-1,iPhone:t.indexOf("iPhone")>-1||t.indexOf("Mac")>-1,iPad:t.indexOf("iPad")>-1,webApp:-1==t.indexOf("Safari")}},e.getUrlV=function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),a=window.location.search.substr(1).match(e);return a?decodeURIComponent(a[2]):null},e.prototype.onNavigate=function(t,e){void 0===e&&(e=!1),e?window.location.replace(t):window.location.href=t},e.prototype.__onTouchDown=function(t){this._eventList.indexOf(t)<0&&this._eventList.push(t)},e.prototype.__onTouchUp=function(t){this._eventList.indexOf(t)>=0&&this._eventList.splice(this._eventList.indexOf(t),1)},e.prototype.__onResize=function(){this._eventList.forEach(function(t){t.type=Laya.Event.MOUSE_UP,Laya.stage.event(Laya.Event.MOUSE_UP,t)}),this._eventList=new Array},e.prototype.__OnMouseMOVE=function(t){(t.stageX<=10||t.stageX>=Laya.stage.width-10||t.stageY<=10||t.stageY>=Laya.stage.height-10)&&(t.type=Laya.Event.MOUSE_UP,Laya.stage.event(Laya.Event.MOUSE_UP,t))},e.onNumTo=function(t,e){return void 0===e&&(e=2),(t+"").indexOf(".")>=0&&(t=parseFloat(t.toFixed(e))),t},e.getR_XY=function(t,e){var a=e*Math.PI/180,r=t*Math.cos(a),n=t*Math.sin(a);return new Laya.Point(r,n)},e.string2buffer=function(t){for(var e="",a=0;a<t.length;a++)""===e?e=t.charCodeAt(a).toString(16):e+=","+t.charCodeAt(a).toString(16);return new Uint8Array(e.match(/[\da-f]{2}/gi).map(function(t){return parseInt(t,16)})).buffer},e.replaceAll=function(t,e,a){var r="";return(r=t.replace(e,a)).indexOf(e)>=0&&(r=this.replaceAll(r,e,a)),r},e.toCase=function(t,e){void 0===e&&(e=!1);return e?t.toUpperCase():t.toLowerCase()},e.getDistance=function(t,e){var a=Math.abs(t.x-e.x),r=Math.abs(t.y-e.y),n=Math.sqrt(Math.pow(a,2)+Math.pow(r,2));return n=parseFloat(n.toFixed(2))},e.getXyToR=function(t,e){var a=Math.atan2(t,e),r=180/Math.PI*a;return r=this.onNumTo(r)},e.storage=function(t,e,a){void 0===e&&(e="?"),void 0===a&&(a=!0);var r=a?localStorage:sessionStorage;if("?"==e){return r.getItem(t)}return null!=e?(r.setItem(t,e),e):(r.removeItem(t),null)},e.playFuiSound=function(t,e,a,r,n){if(void 0===e&&(e=.2),void 0===r&&(r=0),void 0===n&&(n=1),!(e<=0)){var i=fairygui.UIPackage.getItemByURL(t).file;Laya.SoundManager.playSound(i,n,a,null,r),Laya.SoundManager.setSoundVolume(e,i)}},e.COLOR_FILTERS_MATRIX=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0],e}(laya.events.EventDispatcher);a.WmyUtils=r},{}],3:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=t("./WmyUtils"),n=t("./d3/WmyLoad3d"),i=t("./d3/WmyLoadMats"),o=function(){function t(){this._wetData={},this.resUrl="",this._resDataArr=[],this._callbackOk=[],this._callbackProgress=[],this._isAutoLoadP=!1,this._isU3d=!1}return Object.defineProperty(t,"getThis",{get:function(){return null==t._this&&(t._this=new t),t._this},enumerable:!0,configurable:!0}),t.prototype.getWetData=function(t){return this._wetData[t]},t.prototype.setWetData=function(t,e){if(""==this.resUrl){this.resUrl=e;try{JSON.parse(t)}catch(t){}}null==e&&(e=this.resUrl),this._wetData[e]=t},t.prototype.getResObj=function(t,e){var a;if(null==e&&(e=this.resUrl),null==(a=this.getWetData(e)))return console.warn("空数据"),null;var r=null;if(a instanceof Array&&(r=a),null==r)try{r=JSON.parse(a)}catch(t){return console.warn("加载材料数据错误",a),null}for(var n=null,i=0;i<r.length;i++){var o=r[i];if(o.resName==t){n=o;break}}return n},t.prototype.onLoadWetData=function(t,e){if(""!=t){if(null==this.getWetData(t)){return Laya.loader.load(t,new Laya.Handler(this,function(a){this.setWetData(a,t),e.runWith([this._wetData[t]])}))}e.runWith([this.getWetData(t)])}},t.prototype.onloadStr=function(t,e,a){var r=this.getResObj(t);null!=r?this.onload(r,e,a):console.warn("onloadStr-出错:",t)},t.prototype.onload=function(t,e,a){var n=t.resName;if(null!=this._resDataArr[n])this._resDataArr[n].runWith([this._resDataArr[n]]);else{if(null!=this._callbackOk[n])return this._callbackOk[n].push(e),null!=a&&this._callbackProgress[n].push(a),!0;var i=t.Resres,o={},s=t.resData;if(null!=s&&""!=s)try{o=JSON.parse(s)}catch(t){console.warn("加载材料数据错误",s)}for(var l,u=[],h=0;h<i.length;h++){var c=i[h].resUrl;if(null!=c){var _=c=r.WmyUtils.toCase(c);_.indexOf(".txt")>=0?(u.push({url:_,type:Laya.Loader.BUFFER}),l=c):_.indexOf(".jpg")>=0||_.indexOf(".png")>=0?u.push({url:_,type:Laya.Loader.IMAGE}):_.indexOf(".mp3")>=0||_.indexOf(".wav")>=0?u.push({url:_,type:Laya.Loader.SOUND}):u.push({url:_})}}if(u.length<=0)return!1;this._callbackOk[n]=[],this._callbackOk[n].push(e),this._callbackProgress[n]=[],null!=a&&this._callbackProgress[n].push(a),Laya.loader.load(u,Laya.Handler.create(this,this.onAssetConmplete,[n,l,o]),Laya.Handler.create(this,this.onAssetProgress,[n],!1))}return!0},t.prototype.onClear3dRes=function(t){Laya.Resource.destroyUnusedResources(),n.WmyLoad3d.getThis.clearRes(t)},t.prototype.onLoad3dOne=function(t,e,a){n.WmyLoad3d.onLoad3dOne(t,e,a)},t.prototype.onload3d=function(t,e,a){var r=t.resName;if(null!=this._resDataArr[r])this._resDataArr[r].runWith([this._resDataArr[r]]);else{if(null!=this._callbackOk[r])return this._callbackOk[r].push(e),null!=a&&this._callbackProgress[r].push(a),!0;var i=t.Resres,o={},s=t.resData;if(null!=s&&""!=s)try{o=JSON.parse(s)}catch(t){console.warn("加载材料数据错误",s)}for(var l=[],u=[],h=0;h<i.length;h++){var c=i[h].resUrl;if(null!=c){var _=c;(c.indexOf(".ls")>=0||c.indexOf(".lh")>=0)&&(l.push({url:_}),u.push(_))}}if(l.length<=0)return!1;this._callbackOk[r]=[],this._callbackOk[r].push(e),this._callbackProgress[r]=[],null!=a&&this._callbackProgress[r].push(a),o.urlList=u,n.WmyLoad3d.getThis.onload3d(l,Laya.Handler.create(this,this.onAssetConmplete,[r,void 0,o]),Laya.Handler.create(this,this.onAssetProgress,[r],!1))}return!0},t.prototype.onAssetProgress=function(t,e){for(var a=this._callbackProgress[t],r=0;r<a.length;r++){a[r].runWith([e])}},t.prototype.onAssetConmplete=function(t,e,a){var r=this._callbackOk[t];if(null!=e){var n=Laya.loader.getRes(e),i=e.replace(".txt","");try{fairygui.UIPackage.addPackage(i,n)}catch(t){console.warn("FUI-出错:",i)}var o=i.split("/");a.bName=o[o.length-1],this._resDataArr[t]=a}for(var s=0;s<r.length;s++){var l=r[s];null!=l&&l.runWith([a])}this._callbackOk[t]=null,this._callbackProgress[t]=null},t.prototype.onAutoLoadAll=function(t,e){var a=this.getWetData(this.resUrl);if(null==a)return console.warn("空数据"),null;var r=null;if(a instanceof Array&&(r=a),null==r)try{r=JSON.parse(a)}catch(t){return console.warn("加载材料数据错误",a),null}this._autoLoadrCallbackOk=t,this._autoLoadrCallbackProgress=e,this._autoLoadInfoArr={},this._autoLoadInfoArr.num=0,this._autoLoadInfoArr.cNum=0,this._autoLoadInfoArr.uiArr=[],this._autoLoadInfoArr.u3dArr=[];for(var n=0;n<r.length;n++){var i=r[n],o=i.resName,s=i.type;null!=o&&""!=o&&null!=s&&""!=s&&this.onAutoLoadObj(s,o)}this._isAutoLoadP=!0},t.prototype.onAutoLoadObj=function(t,e){var a=this,r=this.getResObj(e);if(null!=r){var n=this._autoLoadInfoArr.num;this._autoLoadInfoArr[n]={},this._autoLoadInfoArr[n].n=e,this._autoLoadInfoArr[n].t=t;var o=!1;if("ui"==t)o=this.onload(r,new Laya.Handler(this,this.onLoadOk,[n]),new Laya.Handler(this,this.onLoading,[n])),this._autoLoadInfoArr.num+=1,o||(console.warn("ui-出错:",e),Laya.timer.once(100,null,function(t){a.onLoadOk(t)},[n]));else if("u3d"==t)o=this.onload3d(r,new Laya.Handler(this,this.onLoadOk,[n]),new Laya.Handler(this,this.onLoading,[n])),this._autoLoadInfoArr.num+=1,this._isU3d=!0,o||(console.warn("u3d-出错:",e),Laya.timer.once(100,null,function(t){a.onLoadOk(t)},[n]));else if("mats"==t){for(var s=r.Resres,l=[],u=0;u<s.length;u++){h=(c=s[u]).resUrl;if(null!=(h=Laya.ResourceVersion.addVersionPrefix(h))){_=h;l.push(_)}}l.length>0&&(i.WmyLoadMats.getThis.onload3d(l,new Laya.Handler(this,this.onLoadOk,[n]),new Laya.Handler(this,this.onLoading,[n])),o=!0),this._autoLoadInfoArr.num+=1,o||(console.warn("mats-出错:",e),Laya.timer.once(100,null,function(t){a.onLoadOk(t)},[n]))}else if("cubeMap"==t)for(var s=r.Resres,u=0;u<s.length;u++){var h,c=s[u],_=h=c.resUrl;Laya.TextureCube.load(_,null)}else"audio"==t&&(o=this.onload(r,new Laya.Handler(this,this.onLoadOk,[n]),new Laya.Handler(this,this.onLoading,[n])),this._autoLoadInfoArr.num+=1,o||(console.warn("audio-出错:",e),Laya.timer.once(100,null,function(t){a.onLoadOk(t)},[n])))}},t.prototype.getCube=function(t,e){var a=this.getResObj(t);if(null!=a){for(var r=a.Resres,n=[],i=0;i<r.length;i++){var o=r[i].resUrl,s=o=Laya.ResourceVersion.addVersionPrefix(o);Laya.TextureCube.load(s,new Laya.Handler(this,function(t){n[i]=t,e.runWith([t,i])}))}return n}},t.prototype.onLoading=function(t,e){var a=0;if(this._isAutoLoadP){this._autoLoadInfoArr[t].p=e;for(var r=this._autoLoadInfoArr.num,n=0,i=1/r,o=0,s=0,l=0;l<r;l++){var u=this._autoLoadInfoArr[l],h=u.p;null!=h&&(this._isU3d?("u3d"==u.t?s=h*(i*(l+1))*.8:o=h*(i*(l+1))*.2,n=o+s):n=h*(i*(l+1)))}a=100*n,isNaN(a)&&(a=0),a>1&&null!=this._autoLoadrCallbackProgress&&this._autoLoadrCallbackProgress.runWith([a])}else null!=this._autoLoadrCallbackProgress&&this._autoLoadrCallbackProgress.runWith([a])},t.prototype.onLoadOk=function(t,e){this._autoLoadInfoArr.cNum+=1,"ui"==this._autoLoadInfoArr[t].t?this._autoLoadInfoArr.uiArr.push(e):"u3d"==this._autoLoadInfoArr[t].t&&this._autoLoadInfoArr.u3dArr.push(e),this._autoLoadInfoArr.cNum>=this._autoLoadInfoArr.num&&null!=this._autoLoadrCallbackOk&&this._autoLoadrCallbackOk.runWith([this._autoLoadInfoArr.uiArr,this._autoLoadInfoArr.u3dArr])},t}();a.Wmy_Load_Mag=o},{"./WmyUtils":2,"./d3/WmyLoad3d":4,"./d3/WmyLoadMats":5}],4:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=t("./WmyUtils3D"),n=function(){function t(){this._mNum=0,this._pNum=0}return Object.defineProperty(t,"getThis",{get:function(){return null==t._this&&(t._this=new t),t._this},enumerable:!0,configurable:!0}),t.prototype.onload3d=function(t,e,a,r){this._urlList=[],this._callbackOk=e,this._callbackProgress=a;for(var n=0;n<t.length;n++){var i=t[n].url;i=Laya.ResourceVersion.addVersionPrefix(i),this._urlList.push(i),this._onload3d(i)}},t.onLoad3dOne=function(e,a,r){(new t).__onload3dOne(e,a,r)},t.prototype.__onload3dOne=function(t,e,a){this._urlList=[],this._callbackOk=e,this._callbackProgress=a,t=Laya.ResourceVersion.addVersionPrefix(t),this._urlList.push(t),this._onload3d(t)},t.prototype._onload3d=function(t){Laya.loader.clearRes(t),Laya.loader._createLoad(t);Laya.LoaderManager._resMap[t].once(Laya.Event.COMPLETE,this,this.__onlsUrlOk,[t])},t.prototype.__onlsUrlOk=function(t,e){var a=t.split("/"),r=t.replace(a[a.length-1],""),n=JSON.parse(e);this._mArr=[],this.__tiQuUrl(n.data,r);for(var i=0;i<this._mArr.length;i++)t=this._mArr[i],Laya.loader.create(t,Laya.Handler.create(this,this.__onLoadOk))},t.prototype.__onLoadOk=function(){var t=this;this._mNum+=1,this._pNum=this._mNum/this._mArr.length,this.__onLoadP(null),this._mNum>=this._mArr.length&&Laya.loader.create(this._urlList,Laya.Handler.create(this,function(){null!=t._callbackOk&&t._callbackOk.run(),t._urlList=null,t._callbackOk=null,t._callbackProgress=null,t._mArr=null}),Laya.Handler.create(this,this.__onLoadP))},t.prototype.__onLoadP=function(t){var e=.7*this._pNum;t&&(e+=.25*t),null!=this._callbackProgress&&this._callbackProgress.runWith([e])},t.prototype.__tiQuUrl=function(t,e){if(void 0===e&&(e=""),null!=t.props&&null!=t.props.meshPath){var a=e+t.props.meshPath;this._mArr.indexOf(a)<0&&this._mArr.push(a);var r=t.props.materials;if(null!=r)for(var n=0;n<r.length;n++){var i=e+r[n].path;this._mArr.indexOf(i)<0&&this._mArr.push(i)}}if(null!=t.components){var o=t.components;if(o.length>0)for(var s=0;s<o.length;s++){var l=o[s];if(null!=l.avatar){var u=e+l.avatar.path;this._mArr.indexOf(u)<0&&this._mArr.push(u)}if(null!=l.layers)for(var h=l.layers,c=0;c<h.length;c++)for(var _=h[c].states,d=0;d<_.length;d++){var p=e+_[d].clipPath;this._mArr.indexOf(p)<0&&this._mArr.push(p)}}}var f=t.child;if(null!=f&&f.length>0)for(var y=0;y<f.length;y++)this.__tiQuUrl(f[y],e)},t.prototype.clearRes=function(t){if(t&&!(t.indexOf("/")<0)){var e=t.split("/"),a=t.replace(e[e.length-1],""),r=[];for(var n in Laya.Loader.loadedMap)if(Laya.Loader.loadedMap.hasOwnProperty(n)){var i=n;(i.indexOf(a)>=0||i.indexOf("res/mats/")>=0)&&r.indexOf(i)<0&&r.push(i)}for(var o=0;o<r.length;o++){var s=r[o];try{var l=Laya.loader.getRes(s);l.lock||(l.destroy(),l.releaseResource(!0))}catch(t){}try{Laya.loader.clearRes(s)}catch(t){}}}},t.idResourcesMapLock=function(e,a){if(void 0===a&&(a=!0),null!=e){var n=r.WmyUtils3D.getChildrenComponent(e,Laya.RenderableSprite3D),i=[];for(var o in n){var s=n[o];t._loopLock(s,i)}var l=Laya.Resource._idResourcesMap;for(var u in i){l[i[u]].lock=a}}},t._loopLock=function(e,a){t._Mesh(e,a),t._Materials(e,a);for(var r in e){var n=e[r];n instanceof Laya.BaseRender&&t._loopLock(n,a)}},t._Mesh=function(e,a){for(var r in e){var n=e[r];if(n instanceof Laya.Mesh){t._getResourcesMapId(n,a);var i=n._vertexBuffers;if(i)for(var o in i){var s=i[o];s instanceof Laya.VertexBuffer3D&&t._getResourcesMapId(s,a)}for(var l in n){var u=n[l];u instanceof Laya.IndexBuffer3D&&t._getResourcesMapId(u,a)}}}},t._Materials=function(e,a){var r=e._materials;if(r)for(var n in r){var i=r[n];i instanceof Laya.BaseMaterial&&(t._getResourcesMapId(i,a),t._Shader(i,a),t._ShaderData(i,a))}},t._Shader=function(e,a){for(var r in e){var n=e[r];n instanceof Laya.Shader3D&&t._getResourcesMapId(n,a)}},t._ShaderData=function(e,a){for(var r in e){var n=e[r];n instanceof Laya.ShaderData&&t._BaseTexture(n._data,a)}},t._BaseTexture=function(e,a){for(var r in e){var n=e[r];n instanceof Laya.BaseTexture&&t._getResourcesMapId(n,a)}},t._getResourcesMapId=function(t,e){var a=Laya.Resource._idResourcesMap;for(var r in a){t==a[r]&&e.indexOf(r)<0&&e.push(r)}},t}();a.WmyLoad3d=n},{"./WmyUtils3D":7}],5:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=function(){function t(){this._matsUrlArr=[],this._matOk=!1,this._matNum=0,this._matP=0,this._matP2=0}return Object.defineProperty(t,"getThis",{get:function(){return null==t._this&&(t._this=new t),t._this},enumerable:!0,configurable:!0}),t.prototype.onload3d=function(t,e,a){this._callbackOk=e,this._callbackProgress=a,Laya.loader.load(t,Laya.Handler.create(this,this.__onUrlArrOk,[t]))},t.prototype.__onUrlArrOk=function(t){for(u=0;u<t.length;u++){var e=t[u],a=Laya.loader.getRes(e),r=e.split("/"),n=e.replace(r[r.length-1],""),i=[];try{i=a.mats}catch(t){}for(var o=0;o<i.length;o++){var s=i[o];if(""!=s.targetName){var l=n+s.matUrl;this._matsUrlArr.push(l)}}}for(var u=0;u<this._matsUrlArr.length;u++)e=this._matsUrlArr[u],Laya.loader.create(e,Laya.Handler.create(this,this.__onMatArrOk),Laya.Handler.create(this,this.__onMatArrP))},t.prototype.__onMatArrP=function(t){var e=t*(this._matNum+1);e>this._matP&&(this._matP=e),this._matP2=this._matP/this._matsUrlArr.length,null!=this._callbackProgress&&this._callbackProgress.runWith([this._matP2])},t.prototype.__onMatArrOk=function(){this._matNum+=1,this._matNum>=this._matsUrlArr.length&&null!=this._callbackOk&&this._callbackOk.run()},t}();a.WmyLoadMats=r},{}],6:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=t("./WmyUtils3D"),n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.del=function(t){void 0===t&&(t=!0),this.owner3D.destroy(t)},e.prototype.onDestroy=function(){this.owner3D=null,this.scene3D=null,this.onDel()},e.prototype.onDel=function(){},e.prototype._onAdded=function(){t.prototype._onAdded.call(this),this.owner3D=this.owner,this._localScale=new Laya.Vector3(0,0,0),this.owner3D.transform&&(this._localScale=this.owner3D.transform.localScale.clone()),this.scene3D=this.owner3D.scene},e.prototype.setShow=function(t){this.owner3D.transform.localScale=t?this._localScale:new Laya.Vector3(0,0,0)},e.prototype.getObj3dUrl=function(t,e){return r.WmyUtils3D.getObj3dUrl(t,e)},e}(Laya.Script3D);a.WmyScript3D=n},{"./WmyUtils3D":7}],7:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=function(){function t(){}return t.getObj3d=function(t,e){if(null==t)return null;if(t.name==e)return t;for(var a=0;a<t._children.length;a++){var r=t._children[a];if(r._children.length<=0){if(r.name==e)return r}else{var n=this.getObj3d(r,e);if(null!=n)return n}}return null},t.getObj3dUrl=function(t,e){var a=e.split("/");return this._getObjArrUrl(t,a)},t._getObjArrUrl=function(t,e,a){void 0===a&&(a=0);var r=t;if(null==r)return null;var n=e[a],i=r.getChildByName(n);return null==i?null:a>=e.length-1?i:i=this._getObjArrUrl(i,e,++a)},t.getChildrenComponent=function(t,e,a){if(null==a&&(a=[]),null==t)return a;var r=t.getComponent(e);if(null==r&&t instanceof e&&(r=t),null!=r&&a.indexOf(r)<0&&a.push(r),null==t._children)return a;for(var n=0;n<t._children.length;n++){var i=t._children[n];this.getChildrenComponent(i,e,a)}return a},t.instantiate=function(e,a){if(null==e)return null;var r=null;if(a){var n=t.getObj3d(e,a);n&&(r=Laya.Sprite3D.instantiate(n))}else r=Laya.Sprite3D.instantiate(e);return r},t.onShadow=function(t,e,a,r,n){void 0===e&&(e=512),void 0===a&&(a=1),void 0===r&&(r=15),void 0===n&&(n=!0),t.shadow=n,t.shadowDistance=r,t.shadowResolution=e,t.shadowPSSMCount=1,t.shadowPCFType=a},t.onCastShadow=function(t,e,a,r){if(void 0===e&&(e=0),void 0===a&&(a=!0),void 0===r&&(r=!0),t instanceof Laya.MeshSprite3D){var n=t;0==e?n.meshRenderer.receiveShadow=a:1==e?n.meshRenderer.castShadow=a:2==e&&(n.meshRenderer.receiveShadow=a,n.meshRenderer.castShadow=a)}if(t instanceof Laya.SkinnedMeshSprite3D){var i=t;0==e?i.skinnedMeshRenderer.receiveShadow=a:1==e&&(i.skinnedMeshRenderer.castShadow=a)}if(r)for(var o=0;o<t.numChildren;o++){var s=t.getChildAt(o);this.onCastShadow(s,e,a)}},t.rgb2hex=function(t,e,a){return("#"+this.hex(t)+this.hex(e)+this.hex(a)).toUpperCase()},t.hex=function(t){return t=this.onNumTo(t),("0"+parseInt(t).toString(16)).slice(-2)},t.hex2rgb=function(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,a,r){return e+e+a+a+r+r});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},t.onNumTo=function(t){return(t+"").indexOf(".")>=0&&(t=parseFloat(t.toFixed(2))),t},t.lerpF=function(t,e,a){return t+(e-t)*a},t.getRayCastAll=function(t,e,a,r,n){var i=new Array,o=a;o||(o=new Laya.Ray(new Laya.Vector3,new Laya.Vector3));var s=e.clone();return t.viewportPointToRay(s,o),null!=t.scene&&null!=t.scene.physicsSimulation&&t.scene.physicsSimulation.rayCastAll(o,i,1e4,r,n),i},t.Distance=function(t,e){var a=Math.abs(t.x-e.x),r=Math.abs(t.y-e.y),n=Math.sqrt(Math.pow(a,2)+Math.pow(r,2));return n=parseFloat(n.toFixed(2))},t.aniPlay=function(e,a,r,n,i,o,s){var l=e;if(null!=a&&(l=this.getObj3d(e,a)),null==l)return null;var u=l.getComponent(Laya.Animator);return null==u?null:(i&&t.aniAddEventFun(l,null,r,-1,i,!0,o,s),u.play(r,s,n),u)},t.aniAddEventFun=function(e,a,r,i,o,s,l,u){void 0===s&&(s=!0);var h=e;if(null!=a&&(h=this.getObj3d(e,a)),null==h)return null;var c=h.getComponent(Laya.Animator);if(null==c)return null;t._aniAddEvent(c,null,r,"_wmy_ani_callback",i,l,u);var _=h.getComponent(n);_||(_=h.addComponent(n));var d="wmy_"+o.caller.id+r+i;s?Laya.stage.once(d,this,function(t,e,a){e.runWith(a),_.delCallback(t)},[d,o]):Laya.stage.on(d,this,function(t,e,a){e.runWith(a)},[d,o]),_.addCallback(d)},t.aniDelEventFun=function(t,e,a){var r=t;if(null!=e&&(r=this.getObj3d(t,e)),null==r)return null;if(null==r.getComponent(Laya.Animator))return null;var i=r.getComponent(n);if(i){var o="wmy_"+a.caller.name+a.method.toString();Laya.stage.on(o,a.caller,a.method),i.delCallback(o)}},t._aniAddEvent=function(t,e,a,r,n,i,o){var s=null,l=null;if(t instanceof Laya.Sprite3D){if(s=t,null!=e&&(s=this.getObj3d(t,e)),null==s)return null;l=s.getComponent(Laya.Animator)}else t instanceof Laya.Animator&&(l=t);if(null==l)return null;var u=l.getControllerLayer(o)._statesMap[a];if(null==u)return null;var h=!0,c=u._clip._events;for(var _ in c)if(c.hasOwnProperty(_)){if(c[_].eventName==r&&d.time){h=!1;break}}if(h){var d=new Laya.AnimationEvent;d.eventName=r;var p=u._clip._duration;-1==n&&(n=p),d.time=n/p,d.params=i,u._clip.addEvent(d)}return l},t.aniAddScript=function(t,e,a,r,n){var i=t;if(null!=e&&(i=this.getObj3d(t,e)),null==i)return null;var o=i.getComponent(Laya.Animator);if(null==o)return null;var s=o.getControllerLayer(n)._statesMap[a];return null==s?null:(s.addScript(r),s)},t}();a.WmyUtils3D=r;var n=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._callback=[],e}return __extends(e,t),e.prototype.addCallback=function(t){this._callback.indexOf(t)<0&&this._callback.push(t)},e.prototype.delCallback=function(t){var e=this._callback.indexOf(t);e>=0&&this._callback.splice(e,1)},e.prototype._wmy_ani_callback=function(t){for(var e=0;e<this._callback.length;e++){var a=this._callback[e];Laya.stage.event(a,t)}},e}(Laya.Script3D)},{}],8:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onAwake=function(){if(this._anir=this.owner3D.getComponent(Laya.Animator),null!=this._anir){for(var t=this._anir._renderableSprites,e=0;e<t.length;e++){for(var a=null,r=t[e],n=0;n<r.numChildren;n++){var i=r.getChildAt(e);if(i.name.indexOf("Vetex_Handle")>=0){a=i;break}}null!=a&&(this._verticesObj=a)}null!=this._verticesObj?this.onInitVertex():this.enabled=!1}else this.enabled=!1},e.prototype.onInitVertex=function(){if(this._mesh=this._verticesObj.parent.meshFilter,this._mesh){if(this._verticesObj.numChildren>0){this._vertexArray=[];for(t=0;t<this._verticesObj.numChildren;t++)this._vertexArray[t]=this._verticesObj.getChildAt(t).transform}if(this._vertexArray){this._vertexBuffers=this._mesh.sharedMesh._vertexBuffers,this._mCacheVerticesArr=this._mesh.sharedMesh._getPositions(),this._mMappingVetexInfoArr=[];for(var t=0;t<this._vertexArray.length;t++){var e=this._vertexArray[t];this._mMappingVetexInfoArr[t]={},this._mMappingVetexInfoArr[t].TransformInfo=e;for(var a=[],r=0;r<this._mCacheVerticesArr.length;r++){var n=this._mCacheVerticesArr[r];Laya.Vector3.distance(n,e.localPosition)<=.01&&a.push(r)}this._mMappingVetexInfoArr[t].VetexIDArr=a}}else this.enabled=!1}else this.enabled=!1},e.prototype.onLateUpdate=function(){if((0!=this.owner3D.transform.localScale.x||0!=this.owner3D.transform.localScale.y||0!=this.owner3D.transform.localScale.z)&&0!=this._anir.speed){if(!this._anir.getCurrentAnimatorPlayState()._finish){for(var t=0;t<this._mMappingVetexInfoArr.length;t++)for(var e=this._mMappingVetexInfoArr[t],a=0;a<e.VetexIDArr.length;a++){var r=e.VetexIDArr[a],n=e.TransformInfo.localPosition;this._mCacheVerticesArr[r]=n}this._vertexs_setPositions(this._vertexBuffers,this._mCacheVerticesArr)}}},e.prototype._vertexs_getPositions=function(t){var e,a,r,n,i,o=[],s=0,l=0,u=0,h=t.length;for(s=0;s<h;s++){for(r=(e=t[s]).vertexDeclaration.vertexElements,l=0;l<r.length;l++)if("vector3"===(n=r[l]).elementFormat&&0===n.elementUsage){a=n;break}for(i=e.getData(),l=0;l<i.length;l+=e.vertexDeclaration.vertexStride/4)u=l+a.offset/4,o.push(new Laya.Vector3(i[u+0],i[u+1],i[u+2]))}return o},e.prototype._vertexs_setPositions=function(t,e){var a,r,n,i,o,s,l=0,u=0,h=0,c=t.length;for(l=0;l<c;l++){for(n=(a=t[l]).vertexDeclaration.vertexElements,u=0;u<n.length;u++)if("vector3"===(i=n[u]).elementFormat&&0===i.elementUsage){r=i;break}o=a.getData();var _=0;for(u=0;u<o.length;u+=a.vertexDeclaration.vertexStride/4)s=e[_],o[(h=u+r.offset/4)+0]=s.x,o[h+1]=s.y,o[h+2]=s.z,_++;a.setData(o)}},e.prototype.onGetWorldPos=function(t,e){var a=new Laya.Vector3;if(null!=t._parent){var r=t.parent.transform.position;Laya.Vector3.multiply(e,t.parent.transform.scale,Laya.Transform3D._tempVector30),Laya.Vector3.transformQuat(Laya.Transform3D._tempVector30,t.parent.transform.rotation,Laya.Transform3D._tempVector30),Laya.Vector3.add(r,Laya.Transform3D._tempVector30,a)}else e.cloneTo(a);return a},e}(t("../WmyScript3D").WmyScript3D);a.default=r},{"../WmyScript3D":6}],9:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=t("./WEaseType"),n=function(){function t(){}return t.evaluate=function(e,a,n,o,s){switch(e){case r.WEaseType.Linear:return a/n;case r.WEaseType.SineIn:return 1-Math.cos(a/n*t._PiOver2);case r.WEaseType.SineOut:return Math.sin(a/n*t._PiOver2);case r.WEaseType.SineInOut:return-.5*(Math.cos(Math.PI*a/n)-1);case r.WEaseType.QuadIn:return(a/=n)*a;case r.WEaseType.QuadOut:return-(a/=n)*(a-2);case r.WEaseType.QuadInOut:return(a/=.5*n)<1?.5*a*a:-.5*(--a*(a-2)-1);case r.WEaseType.CubicIn:return(a/=n)*a*a;case r.WEaseType.CubicOut:return(a=a/n-1)*a*a+1;case r.WEaseType.CubicInOut:return(a/=.5*n)<1?.5*a*a*a:.5*((a-=2)*a*a+2);case r.WEaseType.QuartIn:return(a/=n)*a*a*a;case r.WEaseType.QuartOut:return-((a=a/n-1)*a*a*a-1);case r.WEaseType.QuartInOut:return(a/=.5*n)<1?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2);case r.WEaseType.QuintIn:return(a/=n)*a*a*a*a;case r.WEaseType.QuintOut:return(a=a/n-1)*a*a*a*a+1;case r.WEaseType.QuintInOut:return(a/=.5*n)<1?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2);case r.WEaseType.ExpoIn:return 0==a?0:Math.pow(2,10*(a/n-1));case r.WEaseType.ExpoOut:return a==n?1:1-Math.pow(2,-10*a/n);case r.WEaseType.ExpoInOut:return 0==a?0:a==n?1:(a/=.5*n)<1?.5*Math.pow(2,10*(a-1)):.5*(2-Math.pow(2,-10*--a));case r.WEaseType.CircIn:return-(Math.sqrt(1-(a/=n)*a)-1);case r.WEaseType.CircOut:return Math.sqrt(1-(a=a/n-1)*a);case r.WEaseType.CircInOut:return(a/=.5*n)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1);case r.WEaseType.ElasticIn:var l;return 0==a?0:1==(a/=n)?1:(0==s&&(s=.3*n),o<1?(o=1,l=s/4):l=s/t._TwoPi*Math.asin(1/o),-o*Math.pow(2,10*(a-=1))*Math.sin((a*n-l)*t._TwoPi/s));case r.WEaseType.ElasticOut:var u;return 0==a?0:1==(a/=n)?1:(0==s&&(s=.3*n),o<1?(o=1,u=s/4):u=s/t._TwoPi*Math.asin(1/o),o*Math.pow(2,-10*a)*Math.sin((a*n-u)*t._TwoPi/s)+1);case r.WEaseType.ElasticInOut:var h;return 0==a?0:2==(a/=.5*n)?1:(0==s&&(s=n*(.3*1.5)),o<1?(o=1,h=s/4):h=s/t._TwoPi*Math.asin(1/o),a<1?o*Math.pow(2,10*(a-=1))*Math.sin((a*n-h)*t._TwoPi/s)*-.5:o*Math.pow(2,-10*(a-=1))*Math.sin((a*n-h)*t._TwoPi/s)*.5+1);case r.WEaseType.BackIn:return(a/=n)*a*((o+1)*a-o);case r.WEaseType.BackOut:return(a=a/n-1)*a*((o+1)*a+o)+1;case r.WEaseType.BackInOut:return(a/=.5*n)<1?a*a*((1+(o*=1.525))*a-o)*.5:.5*((a-=2)*a*((1+(o*=1.525))*a+o)+2);case r.WEaseType.BounceIn:return i.easeIn(a,n);case r.WEaseType.BounceOut:return i.easeOut(a,n);case r.WEaseType.BounceInOut:return i.easeInOut(a,n);default:return-(a/=n)*(a-2)}},t._PiOver2=.5*Math.PI,t._TwoPi=2*Math.PI,t}();a.WEaseManager=n;var i=function(){function t(){}return t.easeIn=function(e,a){return 1-t.easeOut(a-e,a)},t.easeOut=function(t,e){return(t/=e)<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},t.easeInOut=function(e,a){return e<.5*a?.5*t.easeIn(2*e,a):.5*t.easeOut(2*e-a,a)+.5},t}();a.Bounce=i},{"./WEaseType":10}],10:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=function(){function t(){}return t.Linear=0,t.SineIn=1,t.SineOut=2,t.SineInOut=3,t.QuadIn=4,t.QuadOut=5,t.QuadInOut=6,t.CubicIn=7,t.CubicOut=8,t.CubicInOut=9,t.QuartIn=10,t.QuartOut=11,t.QuartInOut=12,t.QuintIn=13,t.QuintOut=14,t.QuintInOut=15,t.ExpoIn=16,t.ExpoOut=17,t.ExpoInOut=18,t.CircIn=19,t.CircOut=20,t.CircInOut=21,t.ElasticIn=22,t.ElasticOut=23,t.ElasticInOut=24,t.BackIn=25,t.BackOut=26,t.BackInOut=27,t.BounceIn=28,t.BounceOut=29,t.BounceInOut=30,t.Custom=31,t}();a.WEaseType=r},{}],11:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=t("./WTweenManager"),n=function(){function t(){}return t.to=function(t,e,a){return r.WTweenManager.createTween()._to(t,e,a)},t.to2=function(t,e,a,n,i){return r.WTweenManager.createTween()._to2(t,e,a,n,i)},t.to3=function(t,e,a,n,i,o,s){return r.WTweenManager.createTween()._to3(t,e,a,n,i,o,s)},t.to4=function(t,e,a,n,i,o,s,l,u){return r.WTweenManager.createTween()._to4(t,e,a,n,i,o,s,l,u)},t.toColor=function(t,e,a){return r.WTweenManager.createTween()._toColor(t,e,a)},t.delayedCall=function(t){return r.WTweenManager.createTween().setDelay(t)},t.shake=function(t,e,a,n){return r.WTweenManager.createTween()._shake(t,e,a,n)},t.isTweening=function(t,e){return r.WTweenManager.isTweening(t,e)},t.kill=function(t,e,a){void 0===e&&(e=!1),void 0===a&&(a=null),r.WTweenManager.killTweens(t,!1,null)},t.getTween=function(t,e){return void 0===e&&(e=null),r.WTweenManager.getTween(t,e)},t.catchCallbackExceptions=!0,t}();a.WTween=n},{"./WTweenManager":12}],12:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=t("./WTweener"),n=function(){function t(){}return t.createTween=function(){t._inited||(Laya.timer.frameLoop(1,null,this.update),t._inited=!0);var e;return(e=t._tweenerPool.length>0?t._tweenerPool.pop():new r.WTweener)._init(),t._activeTweens[t._totalActiveTweens++]=e,t._totalActiveTweens==t._activeTweens.length&&(t._activeTweens.length=t._activeTweens.length+Math.ceil(.5*t._activeTweens.length)),e},t.isTweening=function(e,a){if(null==e)return!1;for(var r=null==a,n=0;n<t._totalActiveTweens;n++){var i=t._activeTweens[n];if(null!=i&&i.target==e&&!i._killed&&(r||i._propType==a))return!0}return!1},t.killTweens=function(e,a,r){if(void 0===a&&(a=!1),void 0===r&&(r=null),null==e)return!1;for(var n=!1,i=t._totalActiveTweens,o=null==r,s=0;s<i;s++){var l=t._activeTweens[s];null==l||l.target!=e||l._killed||!o&&l._propType!=r||(l.kill(a),n=!0)}return n},t.getTween=function(e,a){if(null==e)return null;for(var r=t._totalActiveTweens,n=null==a,i=0;i<r;i++){var o=t._activeTweens[i];if(null!=o&&o.target==e&&!o._killed&&(n||o._propType==a))return o}return null},t.update=function(){for(var e=Laya.timer.delta/1e3,a=t._totalActiveTweens,r=-1,n=0;n<a;n++){var i=t._activeTweens[n];null==i?(-1==r&&(r=n),0):i._killed?(i._reset(),t._tweenerPool.push(i),t._activeTweens[n]=null,-1==r&&(r=n),0):(i._paused||i._update(e),-1!=r&&(t._activeTweens[r]=i,t._activeTweens[n]=null,r++))}if(r>=0){if(t._totalActiveTweens!=a){var o=a;for(a=t._totalActiveTweens-a,n=0;n<a;n++)t._activeTweens[r++]=t._activeTweens[o++]}t._totalActiveTweens=r}},t._activeTweens=new Array(30),t._tweenerPool=[],t._totalActiveTweens=0,t._inited=!1,t}();a.WTweenManager=n},{"./WTweener":14}],13:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=function(){function t(){this.x=this.y=this.z=this.w=0}return Object.defineProperty(t.prototype,"color",{get:function(){return(this.w<<24)+(this.x<<16)+(this.y<<8)+this.z},set:function(t){this.x=(16711680&t)>>16,this.y=(65280&t)>>8,this.z=255&t,this.w=(4278190080&t)>>24},enumerable:!0,configurable:!0}),t.prototype.getField=function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("Index out of bounds: "+t)}},t.prototype.setField=function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("Index out of bounds: "+t)}},t.prototype.setZero=function(){this.x=this.y=this.z=this.w=0},t}();a.WTweenValue=r},{}],14:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=t("./WTweenValue"),n=t("./WEaseType"),i=t("./WTween"),o=t("./WEaseManager"),s=function(){function t(){this._startValue=new r.WTweenValue,this._endValue=new r.WTweenValue,this._value=new r.WTweenValue,this._deltaValue=new r.WTweenValue,this._reset()}return t.prototype.setDelay=function(t){return this._delay=t,this},Object.defineProperty(t.prototype,"delay",{get:function(){return this._delay},enumerable:!0,configurable:!0}),t.prototype.setDuration=function(t){return this._duration=t,this},Object.defineProperty(t.prototype,"duration",{get:function(){return this._duration},enumerable:!0,configurable:!0}),t.prototype.setBreakpoint=function(t){return this._breakpoint=t,this},t.prototype.setEase=function(t){return this._easeType=t,this},t.prototype.setEasePeriod=function(t){return this._easePeriod=t,this},t.prototype.setEaseOvershootOrAmplitude=function(t){return this._easeOvershootOrAmplitude=t,this},t.prototype.setRepeat=function(t,e){return void 0===e&&(e=!1),this._repeat=this.repeat,this._yoyo=e,this},Object.defineProperty(t.prototype,"repeat",{get:function(){return this._repeat},enumerable:!0,configurable:!0}),t.prototype.setTimeScale=function(t){return this._timeScale=t,this},t.prototype.setSnapping=function(t){return this._snapping=t,this},t.prototype.setTarget=function(t,e){return void 0===e&&(e=null),this._target=this.value,this._propType=e,this},Object.defineProperty(t.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),t.prototype.setUserData=function(t){return this._userData=this.value,this},Object.defineProperty(t.prototype,"userData",{get:function(){return this._userData},enumerable:!0,configurable:!0}),t.prototype.onUpdate=function(t,e){return this._onUpdate=t,this._onUpdateCaller=e,this},t.prototype.onStart=function(t,e){return this._onStart=t,this._onStartCaller=e,this},t.prototype.onComplete=function(t,e){return this._onComplete=t,this._onCompleteCaller=e,this},Object.defineProperty(t.prototype,"startValue",{get:function(){return this._startValue},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endValue",{get:function(){return this._endValue},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"deltaValue",{get:function(){return this._deltaValue},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"normalizedTime",{get:function(){return this._normalizedTime},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"completed",{get:function(){return 0!=this._ended},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allCompleted",{get:function(){return 1==this._ended},enumerable:!0,configurable:!0}),t.prototype.setPaused=function(t){return this._paused=t,this},t.prototype.seek=function(t){if(!this._killed){if(this._elapsedTime=t,this._elapsedTime<this._delay){if(!this._started)return;this._elapsedTime=this._delay}this.update()}},t.prototype.kill=function(t){void 0===t&&(t=!1),this._killed||(t&&(0==this._ended&&(this._breakpoint>=0?this._elapsedTime=this._delay+this._breakpoint:this._repeat>=0?this._elapsedTime=this._delay+this._duration*(this._repeat+1):this._elapsedTime=this._delay+2*this._duration,this.update()),this.callCompleteCallback()),this._killed=!0)},t.prototype._to=function(t,e,a){return this._valueSize=1,this._startValue.x=t,this._endValue.x=e,this._duration=a,this},t.prototype._to2=function(t,e,a,r,n){return this._valueSize=2,this._startValue.x=t,this._endValue.x=a,this._startValue.y=e,this._endValue.y=r,this._duration=n,this},t.prototype._to3=function(t,e,a,r,n,i,o){return this._valueSize=3,this._startValue.x=t,this._endValue.x=r,this._startValue.y=e,this._endValue.y=n,this._startValue.z=a,this._endValue.z=i,this._duration=o,this},t.prototype._to4=function(t,e,a,r,n,i,o,s,l){return this._valueSize=4,this._startValue.x=t,this._endValue.x=n,this._startValue.y=e,this._endValue.y=i,this._startValue.z=a,this._endValue.z=o,this._startValue.w=r,this._endValue.w=s,this._duration=l,this},t.prototype._toColor=function(t,e,a){return this._valueSize=4,this._startValue.color=t,this._endValue.color=e,this._duration=a,this},t.prototype._shake=function(t,e,a,r){return this._valueSize=5,this._startValue.x=t,this._startValue.y=e,this._startValue.w=a,this._duration=r,this._easeType=n.WEaseType.Linear,this},t.prototype._init=function(){this._delay=0,this._duration=0,this._breakpoint=-1,this._easeType=n.WEaseType.QuadOut,this._timeScale=1,this._easePeriod=0,this._easeOvershootOrAmplitude=1.70158,this._snapping=!1,this._repeat=0,this._yoyo=!1,this._valueSize=0,this._started=!1,this._paused=!1,this._killed=!1,this._elapsedTime=0,this._normalizedTime=0,this._ended=0},t.prototype._reset=function(){this._target=null,this._userData=null,this._onStart=this._onUpdate=this._onComplete=null,this._onStartCaller=this._onUpdateCaller=this._onCompleteCaller=null},t.prototype._update=function(t){if(1!=this._timeScale&&(t*=this._timeScale),0!=t){if(0!=this._ended)return this.callCompleteCallback(),void(this._killed=!0);this._elapsedTime+=t,this.update(),0!=this._ended&&(this._killed||(this.callCompleteCallback(),this._killed=!0))}},t.prototype.update=function(t){if(null!=t){if(1!=this._timeScale&&(t*=this._timeScale),0==t)return;this._elapsedTime+=t}this._ended=0;var e=this._duration;if(0!=this._valueSize){if(!this._started){if(this._elapsedTime<this._delay)return;if(this._started=!0,this.callStartCallback(),this._killed)return}var a=!1,r=this._elapsedTime-this._delay;if(this._breakpoint>=0&&r>=this._breakpoint&&(r=this._breakpoint,this._ended=2),0!=this._repeat){var n=Math.floor(r/e);r-=e*n,this._yoyo&&(a=n%2==1),this._repeat>0&&this._repeat-n<0&&(this._yoyo&&(a=this._repeat%2==1),r=e,this._ended=1)}else r>=e&&(r=e,this._ended=1);if(this._normalizedTime=o.WEaseManager.evaluate(this._easeType,a?e-r:r,e,this._easeOvershootOrAmplitude,this._easePeriod),this._value.setZero(),this._deltaValue.setZero(),5==this._valueSize)if(0==this._ended){var i=this._startValue.w*(1-this._normalizedTime),s=(2*Math.random()-1)*i,l=(2*Math.random()-1)*i;s=s>0?Math.ceil(s):Math.floor(s),l=l>0?Math.ceil(l):Math.floor(l),this._deltaValue.x=s,this._deltaValue.y=l,this._value.x=this._startValue.x+s,this._value.y=this._startValue.y+l}else this._value.x=this._startValue.x,this._value.y=this._startValue.y;else for(var u=0;u<this._valueSize;u++){var h=this._startValue.getField(u),c=h+(this._endValue.getField(u)-h)*this._normalizedTime;this._snapping&&(c=Math.round(c)),this._deltaValue.setField(u,c-this._value.getField(u)),this._value.setField(u,c)}if(null!=this._target&&null!=this._propType)if(this._propType instanceof Function)switch(this._valueSize){case 1:this._propType.call(this._target,this._value.x);break;case 2:this._propType.call(this._target,this._value.x,this._value.y);break;case 3:this._propType.call(this._target,this._value.x,this._value.y,this._value.z);break;case 4:this._propType.call(this._target,this._value.x,this._value.y,this._value.z,this._value.w);break;case 5:this._propType.call(this._target,this._value.color);break;case 6:this._propType.call(this._target,this._value.x,this._value.y)}else if(this._propType instanceof Laya.Handler){var _=[];switch(this._valueSize){case 1:_=[this._target,this._value.x];break;case 2:_=[this._target,this._value.x,this._value.y];break;case 3:_=[this._target,this._value.x,this._value.y,this._value.z];break;case 4:_=[this._target,this._value.x,this._value.y,this._value.z,this._value.w];break;case 5:_=[this._target,this._value.color];break;case 6:_=[this._target,this._value.x,this._value.y]}this._propType.runWith(_)}else 5==this._valueSize?this._target[this._propType]=this._value.color:this._target[this._propType]=this._value.x;this.callUpdateCallback()}else this._elapsedTime>=this._delay+e&&(this._ended=1)},t.prototype.callStartCallback=function(){if(null!=this._onStart)if(i.WTween.catchCallbackExceptions)try{this._onStart.call(this._onStartCaller,this)}catch(t){console.log("FairyGUI: error in start callback > "+t.message)}else this._onStart.call(this._onStartCaller,this)},t.prototype.callUpdateCallback=function(){if(null!=this._onUpdate)if(i.WTween.catchCallbackExceptions)try{this._onUpdate.call(this._onUpdateCaller,this)}catch(t){console.log("FairyGUI: error in this.update callback > "+t.message)}else this._onUpdate.call(this._onUpdateCaller,this)},t.prototype.callCompleteCallback=function(){if(null!=this._onComplete)if(i.WTween.catchCallbackExceptions)try{this._onComplete.call(this._onCompleteCaller,this)}catch(t){console.log("FairyGUI: error in complete callback > "+t.message)}else this._onComplete.call(this._onCompleteCaller,this)},t}();a.WTweener=s},{"./WEaseManager":9,"./WEaseType":10,"./WTween":11,"./WTweenValue":13}],15:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=function(){function e(){}return e.getClass=function(t){return this[t]},e.Ts_C4DVetexAnimator=t("./ts/Ts_C4DVetexAnimator").default,e.Ts_Shu=t("./ts/Ts_Shu").default,e.Ts_CameraBox=t("./ts/Ts_CameraBox").default,e.WmyC4DVetexAnimator=t("../_wmyUtilsH5/d3/c4d/WmyC4DVetexAnimator").default,e.Animator=Laya.Animator,e}();a.default=r},{"../_wmyUtilsH5/d3/c4d/WmyC4DVetexAnimator":8,"./ts/Ts_C4DVetexAnimator":18,"./ts/Ts_CameraBox":19,"./ts/Ts_Shu":20}],16:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=function(){function t(){}return t.tsConfig=[{c_ts:"Ts_CameraBox",targetUrlArr:["cameraBox"]},{c_ts:"Ts_Shu",targetUrlArr:["shu"]},{c_ts:"Ts_C4DVetexAnimator",targetUrlArr:["sceneBox/box/fz01"]}],t}();a.default=r},{}],17:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=t("../_wmyUtilsH5/d3/WmyScript3D"),n=t("./WmyU3dTsConfig"),i=t("./WmyU3dImport"),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onAwake=function(){for(var t=0;t<n.default.tsConfig.length;t++){var e=n.default.tsConfig[t];this.addTs(e)}},e.prototype.addTs=function(t){if(null!=t){var a=t.c_ts,r=i.default.getClass(a),n=t.targetUrlArr;if(n&&r)for(var o=0;o<n.length;o++){var s=n[o],l=e.getObj3dUrl(this.scene3D,s);null!=l&&l.addComponent(r)}}},e.getObj3dUrl=function(t,e){var a=e.split("/");return this._getObjArrUrl(t,a)},e._getObjArrUrl=function(t,e,a){void 0===a&&(a=0);var r=t;if(null==r)return null;var n=e[a],i=r.getChildByName(n);return null==i?null:a>=e.length-1?i:i=this._getObjArrUrl(i,e,++a)},e}(r.WmyScript3D);a.default=o},{"../_wmyUtilsH5/d3/WmyScript3D":6,"./WmyU3dImport":15,"./WmyU3dTsConfig":16}],18:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=t("../WmyU3dImport"),n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onAwake=function(){this.setShow(!1),this._c4dVetexAnimator=this.owner3D.getComponent(r.default.getClass("WmyC4DVetexAnimator")),null==this._c4dVetexAnimator&&(this._c4dVetexAnimator=this.owner3D.addComponent(r.default.getClass("WmyC4DVetexAnimator"))),this._anir=this.owner3D.getComponent(r.default.getClass("Animator"))},e.prototype.play=function(){this.setShow(!0),this._anir.enabled=!0,this._anir.play("play")},e}(t("../../_wmyUtilsH5/d3/WmyScript3D").WmyScript3D);a.default=n},{"../../_wmyUtilsH5/d3/WmyScript3D":6,"../WmyU3dImport":15}],19:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=t("../WmyU3dImport"),n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onAwake=function(){this.owner3D.getComponent(r.default.getClass("Animator")).play("play")},e.prototype.play=function(){this.getObj3dUrl(this.scene3D,"shu").getComponent(r.default.getClass("Animator")).play("play")},e.prototype.play1=function(){this.getObj3dUrl(this.scene3D,"sceneBox/box/fz01").getComponent(r.default.getClass("Ts_C4DVetexAnimator")).play()},e}(t("../../_wmyUtilsH5/d3/WmyScript3D").WmyScript3D);a.default=n},{"../../_wmyUtilsH5/d3/WmyScript3D":6,"../WmyU3dImport":15}],20:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onAwake=function(){},e.prototype.play=function(){},e}(t("../../_wmyUtilsH5/d3/WmyScript3D").WmyScript3D);a.default=r},{"../../_wmyUtilsH5/d3/WmyScript3D":6}]},{},[1]);