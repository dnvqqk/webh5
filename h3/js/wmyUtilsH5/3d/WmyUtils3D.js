var WmyUtils3D=function(){function e(){}return e.getObj3d=function(e,n){if(null==e)return null;if(e.name==n)return e;for(var a=0;a<e._children.length;a++){var r=e._children[a];if(r._children.length<=0){if(r.name==n)return r}else{var t=this.getObj3d(r,n);if(null!=t)return t}}return null},e.getChildrenComponent=function(e,n,a){if(null==e)return null;null==a&&(a=[]);var r=e.getComponent(n);null==r&&e instanceof n&&(r=e),null!=r&&a.push(r);for(var t=0;t<e._children.length;t++){var i=e._children[t];this.getChildrenComponent(i,n,a)}return a},e.setShaderAll=function(n,a,r){var t=this,i=Wmy_Load_Mag.assetUrl,o=i+a+"wmyMats.txt",d=i+r;Laya.loader.load(o,Laya.Handler.create(this,function(a,r,i){for(var o=i.mats,d=0;d<o.length;d++){var h=o[d];if(""!=h.targetName){var l=e.getObj3d(n,h.targetName);if(null!=l){var s=a+h.matUrl+Wmy_Load_Mag.V,u=r+h.shaderName+".xml"+Wmy_Load_Mag.V;Laya.BaseMaterial.load(s,Laya.Handler.create(t,function(e,n,a){WmyShaderMsg.setShader(e,a,n)},[l,u]))}}}},[a,d]),null,Laya.Loader.JSON)},e.aniPlay=function(e,n,a){var r=this.getObj3d(e,n).getComponent(Laya.Animator);return r.play(a),r},e.onShadow=function(e,n,a,r,t){void 0===n&&(n=512),void 0===a&&(a=1),void 0===r&&(r=100),void 0===t&&(t=!0),e.shadow=t,e.shadowDistance=r,e.shadowResolution=n,e.shadowPCFType=a},e.onCastShadow=function(e,n,a,r){if(void 0===n&&(n=0),void 0===a&&(a=!0),void 0===r&&(r=!0),e instanceof Laya.MeshSprite3D){var t=e;0==n?t.meshRenderer.receiveShadow=a:1==n?t.meshRenderer.castShadow=a:2==n&&(t.meshRenderer.receiveShadow=a,t.meshRenderer.castShadow=a)}if(e instanceof Laya.SkinnedMeshSprite3D){var i=e;0==n?i.skinnedMeshRenderer.receiveShadow=a:1==n&&(i.skinnedMeshRenderer.castShadow=a)}if(r)for(var o=0;o<e.numChildren;o++){var d=e.getChildAt(o);this.onCastShadow(d,n,a)}},e.rgb2hex=function(e,n,a){return("#"+this.hex(e)+this.hex(n)+this.hex(a)).toUpperCase()},e.hex=function(e){return e=this.onNumTo(e),("0"+parseInt(e).toString(16)).slice(-2)},e.onNumTo=function(e){return(e+"").indexOf(".")>=0&&(e=parseFloat(e.toFixed(2))),e},e.lerpF=function(e,n,a){return e+(n-e)*a},e}();