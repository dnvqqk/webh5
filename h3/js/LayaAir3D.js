var LayaAir3D=function(){function a(){a._this=this,Laya3D.init(1136,640),Laya.stage.bgColor="#000000",Laya.stage.scaleMode=Laya.Stage.SCALE_EXACTFIT,Laya.stage.scaleMode=Laya.Stage.SCALE_SHOWALL,Laya.stage.screenMode=Laya.Stage.SCREEN_HORIZONTAL,Laya.stage.alignH="center",Laya.stage.alignV="middle",Laya.Stat.show(),Laya.stage.addChild(fairygui.GRoot.inst.displayObject),Wmy_Load_Mag.getThis.onLoadWetData("wmyData/loadInfo.txt?"+Date.now(),Laya.Handler.create(this,this.onLoadLoad))}return a.prototype.onLoadLoad=function(){var a=Wmy_Load_Mag.getThis.getResObj("load");null!=a&&Wmy_Load_Mag.getThis.onload(a,new Laya.Handler(this,this.onLoadMain))},a.prototype.onLoadMain=function(){this._loadView=fairygui.UIPackage.createObject("load","Load").asCom,fairygui.GRoot.inst.addChild(this._loadView),this._bar=this._loadView.getChild("bar").asProgress,this._bar.value=1,Wmy_Load_Mag.getThis.onAutoLoadAll(new Laya.Handler(this,this.onLoadOk),new Laya.Handler(this,this.onLoading))},a.prototype.onLoading=function(a){this._bar.value=a},a.prototype.onLoadOk=function(a,t){var e=this;null!=t[0]&&(this._urlList=t[0].urlList,this.scene3D=Laya.loader.getRes(this._urlList[0]),WmyUtils3D.setShaderAll(this.scene3D,"res/mats/","res/shaders/"),Laya.timer.once(400,this,function(){e.onMain(),fairygui.GRoot.inst.removeChild(e._loadView),e._loadView=null,e._bar=null}))},a.prototype.onMain=function(){this._mainView=fairygui.UIPackage.createObject("main","Main").asCom,fairygui.GRoot.inst.addChild(this._mainView),Laya.stage.addChildAt(this.scene3D,0);var a=WmyUtils3D.getObj3d(this.scene3D,"Camera").addComponent(GameCamera),t=WmyUtils3D.getObj3d(this.scene3D,"Player1");t.addComponent(PlayerKz),a.onSetTarget(t)},a}();new LayaAir3D;